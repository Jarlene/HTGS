<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>htgs: /home/tjb3/phd-research/HTGS/src/htgs/api/TaskGraph.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">htgs
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_task_graph_8hpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">TaskGraph.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_task_graph_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// NIST-developed software is provided by NIST as a public service. You may use, copy and distribute copies of the software in any medium, provided that you keep intact this entire notice. You may improve, modify and create derivative works of the software or any portion of the software, and you may copy and distribute such modifications or works. Modified works should carry a notice stating that you changed the software and should note the date and nature of any such change. Please explicitly acknowledge the National Institute of Standards and Technology as the source of the software.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// NIST-developed software is expressly provided &quot;AS IS.&quot; NIST MAKES NO WARRANTY OF ANY KIND, EXPRESS, IMPLIED, IN FACT OR ARISING BY OPERATION OF LAW, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTY OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, NON-INFRINGEMENT AND DATA ACCURACY. NIST NEITHER REPRESENTS NOR WARRANTS THAT THE OPERATION OF THE SOFTWARE WILL BE UNINTERRUPTED OR ERROR-FREE, OR THAT ANY DEFECTS WILL BE CORRECTED. NIST DOES NOT WARRANT OR MAKE ANY REPRESENTATIONS REGARDING THE USE OF THE SOFTWARE OR THE RESULTS THEREOF, INCLUDING BUT NOT LIMITED TO THE CORRECTNESS, ACCURACY, RELIABILITY, OR USEFULNESS OF THE SOFTWARE.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// You are solely responsible for determining the appropriateness of using and distributing the software and you assume all risks associated with its use, including but not limited to the risks and costs of program errors, compliance with applicable laws, damage to or loss of data, programs or equipment, and the unavailability or interruption of operation. This software is not intended to be used in any situation where a failure could cause risk of injury or damage to property. The software developed by NIST employees is not subject to copyright protection within the United States.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#ifndef HTGS_TASKGRAPH_H</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define HTGS_TASKGRAPH_H</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;../core/memory/VoidMemoryAllocator.hpp&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_bookkeeper_8hpp.html">Bookkeeper.hpp</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_void_data_8hpp.html">VoidData.hpp</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;../core/task/BaseTaskScheduler.hpp&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;../core/graph/BaseTaskGraph.hpp&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;../core/graph/history/ProducerConsumerKey.hpp&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;../core/graph/history/BookkeeperKey.hpp&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;../core/graph/history/MemoryManagerKey.hpp&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;../core/memory/MemoryManager.hpp&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_i_custom_edge_8hpp.html">ICustomEdge.hpp</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#ifdef USE_CUDA</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &quot;../core/memory/CudaMemoryManager.hpp&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">namespace </span>htgs {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">typedef</span> std::map&lt;BaseTaskScheduler *, std::shared_ptr&lt;BaseConnector&gt;&gt; ConnectorMap;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">typedef</span> std::pair&lt;BaseTaskScheduler *, std::shared_ptr&lt;BaseConnector&gt;&gt; ConnectorPair;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">typedef</span> std::map&lt;BaseITask *, BaseTaskScheduler *&gt; ITaskMap;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">typedef</span> std::pair&lt;BaseITask *, BaseTaskScheduler *&gt; ITaskPair;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="keyword">typedef</span> std::map&lt;std::pair&lt;BaseITask *, BaseITask *&gt;, BaseBaseRuleManager *&gt; RuleEdgeMap;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">typedef</span> std::pair&lt;std::pair&lt;BaseITask *, BaseITask *&gt;, BaseBaseRuleManager *&gt; RuleEdgePair;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword">typedef</span> std::map&lt;std::pair&lt;BaseTaskScheduler *, BaseTaskScheduler *&gt;, ICustomEdge *&gt; CustomEdgeMap;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">typedef</span> std::pair&lt;std::pair&lt;BaseTaskScheduler *, BaseTaskScheduler *&gt;, ICustomEdge *&gt; CustomEdgePair;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="structhtgs_1_1_custom_edge_comparator.html">   90</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structhtgs_1_1_custom_edge_comparator.html">CustomEdgeComparator</a></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="structhtgs_1_1_custom_edge_comparator.html#a51a1de57514e067c2b43cc8fac037672">   96</a></span>&#160;  <a class="code" href="structhtgs_1_1_custom_edge_comparator.html#a51a1de57514e067c2b43cc8fac037672">CustomEdgeComparator</a>(CustomEdgePair pair) : <a class="code" href="structhtgs_1_1_custom_edge_comparator.html#a6be7bbe16c8cf09c0b0a61744018bb96">_p</a>(pair) { }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="structhtgs_1_1_custom_edge_comparator.html#aa052b8d5c990b51db904eadae8117153">  101</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structhtgs_1_1_custom_edge_comparator.html#aa052b8d5c990b51db904eadae8117153">operator() </a>(CustomEdgePair <span class="keyword">const</span>&amp; p) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">return</span> p.first.first == <a class="code" href="structhtgs_1_1_custom_edge_comparator.html#a6be7bbe16c8cf09c0b0a61744018bb96">_p</a>.first.first &amp;&amp; p.first.second == <a class="code" href="structhtgs_1_1_custom_edge_comparator.html#a6be7bbe16c8cf09c0b0a61744018bb96">_p</a>.first.second &amp;&amp; p.second == p.second;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  }</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="structhtgs_1_1_custom_edge_comparator.html#a6be7bbe16c8cf09c0b0a61744018bb96">  104</a></span>&#160;  CustomEdgePair <a class="code" href="structhtgs_1_1_custom_edge_comparator.html#a6be7bbe16c8cf09c0b0a61744018bb96">_p</a>; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;};</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">typedef</span> std::map&lt;BaseMemoryAllocator *, std::shared_ptr&lt;BaseMemoryAllocator&gt;&gt; MemAllocMap;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="keyword">typedef</span> std::pair&lt;BaseMemoryAllocator *, std::shared_ptr&lt;BaseMemoryAllocator&gt;&gt; MemAllocPair;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="keyword">typedef</span> std::map&lt;std::string, BaseITask *&gt; MemManagerMap;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="keyword">typedef</span> std::pair&lt;std::string, BaseITask *&gt; MemManagerPair;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keyword">typedef</span> std::map&lt;BaseITask *, MemManagerMap *&gt; MemGetterMap;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="keyword">typedef</span> std::pair&lt;BaseITask *, MemManagerMap *&gt; MemGetterPair;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="keyword">typedef</span> std::map&lt;BaseIRule *, std::shared_ptr&lt;BaseIRule&gt;&gt; IRuleMap;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="keyword">typedef</span> std::pair&lt;BaseIRule *, std::shared_ptr&lt;BaseIRule&gt;&gt; IRulePair;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> T, <span class="keyword">class</span> U&gt;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="keyword">class </span><a class="code" href="classhtgs_1_1_task_graph.html">TaskGraph</a>: <span class="keyword">public</span> <a class="code" href="classhtgs_1_1_base_task_graph.html">BaseTaskGraph</a> {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  static_assert(std::is_base_of&lt;IData, T&gt;::value, <span class="stringliteral">&quot;T must derive from IData&quot;</span>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  static_assert(std::is_base_of&lt;IData, U&gt;::value, <span class="stringliteral">&quot;U must derive from IData&quot;</span>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#aae29ebfc63282162af4e88eaf4c103c9">  259</a></span>&#160;  <a class="code" href="classhtgs_1_1_task_graph.html#aae29ebfc63282162af4e88eaf4c103c9">TaskGraph</a>() {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a> = std::shared_ptr&lt;Connector&lt;T&gt;&gt;(<span class="keyword">new</span> <a class="code" href="classhtgs_1_1_connector.html">Connector&lt;T&gt;</a>());</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">output</a> = std::shared_ptr&lt;Connector&lt;U&gt;&gt;(<span class="keyword">new</span> <a class="code" href="classhtgs_1_1_connector.html">Connector&lt;U&gt;</a>());</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a6df0b9432ea30ea6892caee8dfb04d5f">pipelineId</a> = 0;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#ad49f8f0bea5e18c12e0c6fe35b58d72e">graphInputConsumers</a> = <span class="keyword">new</span> std::list&lt;BaseTaskScheduler *&gt;();</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#aba7a956895252da85a842f2bb6e3ba7b">graphOutputProducers</a> = <span class="keyword">new</span> std::list&lt;BaseTaskScheduler *&gt;();</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a758cb146a6f665f8115c5d539e94a62b">edges</a> = <span class="keyword">new</span> std::list&lt;std::shared_ptr&lt;BaseConnector&gt;&gt;();</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a> = <span class="keyword">new</span> std::list&lt;BaseTaskScheduler *&gt;();</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#abcb60fed41d4d698302b340cdb817662">producerConsumerKeys</a> = <span class="keyword">new</span> std::list&lt;ProducerConsumerKey *&gt;();</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#afae22a6e7746b14eb7104f4052130903">bookkeeperKeys</a> = <span class="keyword">new</span> std::list&lt;BookkeeperKey *&gt;();</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#aeb758c08a5b589622bc447c2235ff1fd">memoryManagerKeys</a> = <span class="keyword">new</span> std::list&lt;MemoryManagerKey *&gt;();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a> = <span class="keyword">new</span> ConnectorMap();</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a> = <span class="keyword">new</span> ITaskMap();</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a3f5bc3f269c6e41cd7c68a2d6da9ff4f">ruleEdgeMap</a> = <span class="keyword">new</span> RuleEdgeMap();</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a59fcb645a6b7bf7b12c99190465a084b">customEdgeList</a> = <span class="keyword">new</span> std::list&lt;CustomEdgePair&gt;();</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a91a337ded8fdb952cc0123e4e34b506a">memAllocMap</a> = <span class="keyword">new</span> MemAllocMap();</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a3af79930041175654b466fbbeb592b34">memGetterMap</a> = <span class="keyword">new</span> MemGetterMap();</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a67771a1690ad7ca0b2ef46b1f073251d">iRuleMap</a> = <span class="keyword">new</span> IRuleMap();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a> = std::shared_ptr&lt;std::unordered_map&lt;std::string, std::shared_ptr&lt;std::vector&lt;std::shared_ptr&lt;BaseConnector&gt;&gt;&gt; &gt;&gt; (<span class="keyword">new</span> std::unordered_map&lt;std::string, std::shared_ptr&lt;std::vector&lt;std::shared_ptr&lt;BaseConnector&gt;&gt;&gt; &gt;());</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a3eddc7a9f5a6ff589a8324cd332554d2">mmTypeMap</a> = std::shared_ptr&lt;std::unordered_map&lt;std::string, MMType&gt;&gt;(<span class="keyword">new</span> std::unordered_map&lt;std::string, MMType&gt;());</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#ae494c712f4a3792059e8af761eaaf80f">  297</a></span>&#160;  <a class="code" href="classhtgs_1_1_task_graph.html#ae494c712f4a3792059e8af761eaaf80f">TaskGraph</a>(std::shared_ptr&lt;<a class="code" href="classhtgs_1_1_connector.html">Connector&lt;T&gt;</a>&gt; <a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a>, std::shared_ptr&lt;<a class="code" href="classhtgs_1_1_connector.html">Connector&lt;U&gt;</a>&gt; <a class="code" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">output</a>) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a> = <a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">output</a> = <a class="code" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">output</a>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a6df0b9432ea30ea6892caee8dfb04d5f">pipelineId</a> = 0;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#ad49f8f0bea5e18c12e0c6fe35b58d72e">graphInputConsumers</a> = <span class="keyword">new</span> std::list&lt;BaseTaskScheduler *&gt;();</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#aba7a956895252da85a842f2bb6e3ba7b">graphOutputProducers</a> = <span class="keyword">new</span> std::list&lt;BaseTaskScheduler *&gt;();</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a758cb146a6f665f8115c5d539e94a62b">edges</a> = <span class="keyword">new</span> std::list&lt;std::shared_ptr&lt;BaseConnector&gt;&gt;();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a> = <span class="keyword">new</span> std::list&lt;BaseTaskScheduler *&gt;();</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#abcb60fed41d4d698302b340cdb817662">producerConsumerKeys</a> = <span class="keyword">new</span> std::list&lt;ProducerConsumerKey *&gt;();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#afae22a6e7746b14eb7104f4052130903">bookkeeperKeys</a> = <span class="keyword">new</span> std::list&lt;BookkeeperKey *&gt;();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#aeb758c08a5b589622bc447c2235ff1fd">memoryManagerKeys</a> = <span class="keyword">new</span> std::list&lt;MemoryManagerKey *&gt;();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a> = <span class="keyword">new</span> ConnectorMap();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a> = <span class="keyword">new</span> ITaskMap();</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a3f5bc3f269c6e41cd7c68a2d6da9ff4f">ruleEdgeMap</a> = <span class="keyword">new</span> RuleEdgeMap();</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a59fcb645a6b7bf7b12c99190465a084b">customEdgeList</a> = <span class="keyword">new</span> std::list&lt;CustomEdgePair&gt;();</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a91a337ded8fdb952cc0123e4e34b506a">memAllocMap</a> = <span class="keyword">new</span> MemAllocMap();</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a3af79930041175654b466fbbeb592b34">memGetterMap</a> = <span class="keyword">new</span> MemGetterMap();</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a67771a1690ad7ca0b2ef46b1f073251d">iRuleMap</a> = <span class="keyword">new</span> IRuleMap();</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a> = std::shared_ptr&lt;std::unordered_map&lt;std::string, std::shared_ptr&lt;std::vector&lt;std::shared_ptr&lt;BaseConnector&gt;&gt;&gt; &gt;&gt; (<span class="keyword">new</span> std::unordered_map&lt;std::string, std::shared_ptr&lt;std::vector&lt;std::shared_ptr&lt;BaseConnector&gt;&gt;&gt; &gt;());</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a3eddc7a9f5a6ff589a8324cd332554d2">mmTypeMap</a> = std::shared_ptr&lt;std::unordered_map&lt;std::string, MMType&gt;&gt;(<span class="keyword">new</span> std::unordered_map&lt;std::string, MMType&gt;());</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a69dc8756d267c66526c43f72575a1775">  333</a></span>&#160;  <a class="code" href="classhtgs_1_1_task_graph.html#a69dc8756d267c66526c43f72575a1775">~TaskGraph</a>() {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="comment">// ONLY release memory for things inside graph (edges/vertices)</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *task : *<a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="keywordflow">if</span> (task != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keyword">delete</span> task;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        task = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classhtgs_1_1_producer_consumer_key.html">ProducerConsumerKey</a> *pck : *<a class="code" href="classhtgs_1_1_task_graph.html#abcb60fed41d4d698302b340cdb817662">producerConsumerKeys</a>) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keywordflow">if</span> (pck != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keyword">delete</span> pck;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        pck = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classhtgs_1_1_bookkeeper_key.html">BookkeeperKey</a> *bkk : *<a class="code" href="classhtgs_1_1_task_graph.html#afae22a6e7746b14eb7104f4052130903">bookkeeperKeys</a>) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="keywordflow">if</span> (bkk != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keyword">delete</span> bkk;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        bkk = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classhtgs_1_1_memory_manager_key.html">MemoryManagerKey</a> *mmk : *<a class="code" href="classhtgs_1_1_task_graph.html#aeb758c08a5b589622bc447c2235ff1fd">memoryManagerKeys</a>) {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <span class="keywordflow">if</span> (mmk != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keyword">delete</span> mmk;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        mmk = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">for</span> (CustomEdgePair pair : *<a class="code" href="classhtgs_1_1_task_graph.html#a59fcb645a6b7bf7b12c99190465a084b">customEdgeList</a>) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="keywordflow">if</span> (pair.second != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keyword">delete</span> pair.second;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        pair.second = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classhtgs_1_1_task_graph.html#ad49f8f0bea5e18c12e0c6fe35b58d72e">graphInputConsumers</a>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#ad49f8f0bea5e18c12e0c6fe35b58d72e">graphInputConsumers</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classhtgs_1_1_task_graph.html#aba7a956895252da85a842f2bb6e3ba7b">graphOutputProducers</a>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#aba7a956895252da85a842f2bb6e3ba7b">graphOutputProducers</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classhtgs_1_1_task_graph.html#a758cb146a6f665f8115c5d539e94a62b">edges</a>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a758cb146a6f665f8115c5d539e94a62b">edges</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    vertices = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classhtgs_1_1_task_graph.html#abcb60fed41d4d698302b340cdb817662">producerConsumerKeys</a>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    producerConsumerKeys = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classhtgs_1_1_task_graph.html#afae22a6e7746b14eb7104f4052130903">bookkeeperKeys</a>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    bookkeeperKeys = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classhtgs_1_1_task_graph.html#aeb758c08a5b589622bc447c2235ff1fd">memoryManagerKeys</a>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    memoryManagerKeys = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classhtgs_1_1_task_graph.html#a91a337ded8fdb952cc0123e4e34b506a">memAllocMap</a>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a91a337ded8fdb952cc0123e4e34b506a">memAllocMap</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">for</span> (MemGetterPair p : *<a class="code" href="classhtgs_1_1_task_graph.html#a3af79930041175654b466fbbeb592b34">memGetterMap</a>)</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <span class="keyword">delete</span> p.second;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      p.second = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classhtgs_1_1_task_graph.html#a3af79930041175654b466fbbeb592b34">memGetterMap</a>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    memGetterMap = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classhtgs_1_1_task_graph.html#a3f5bc3f269c6e41cd7c68a2d6da9ff4f">ruleEdgeMap</a>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a3f5bc3f269c6e41cd7c68a2d6da9ff4f">ruleEdgeMap</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classhtgs_1_1_task_graph.html#a59fcb645a6b7bf7b12c99190465a084b">customEdgeList</a>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    customEdgeList = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classhtgs_1_1_task_graph.html#a67771a1690ad7ca0b2ef46b1f073251d">iRuleMap</a>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a67771a1690ad7ca0b2ef46b1f073251d">iRuleMap</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div>
<div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#ab9d7313ea0dee54eecc8e0d22dcf4dab">  415</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#ab9d7313ea0dee54eecc8e0d22dcf4dab">writeDotToFile</a>(std::string file) {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    std::ofstream f(file);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    f &lt;&lt; <a class="code" href="classhtgs_1_1_task_graph.html#a7aef3d35cc073b1d0538c34eb6ab59a5">genDotGraph</a>();</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    f.flush();</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Writing dot file for task graph to &quot;</span> &lt;&lt; file &lt;&lt; std::endl;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a4617fee561077b5f3e1dc2078468dfe7">  426</a></span>&#160;  std::string <a class="code" href="classhtgs_1_1_task_graph.html#a4617fee561077b5f3e1dc2078468dfe7">genDotGraphContent</a>() {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    std::ostringstream oss;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *bTask : *<a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      oss &lt;&lt; bTask-&gt;getDot();</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>-&gt;size() &gt; 0) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;kv : *this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keyword">auto</span> connector = kv.second-&gt;at(this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a6df0b9432ea30ea6892caee8dfb04d5f">pipelineId</a>);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        oss &lt;&lt; std::string(<span class="stringliteral">&quot;mainThread&quot;</span>) &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; connector-&gt;getDotId() &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      oss &lt;&lt; <span class="stringliteral">&quot;mainThread[label=\&quot;Main Thread\&quot;];\n&quot;</span>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">return</span> oss.str();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a7aef3d35cc073b1d0538c34eb6ab59a5">  448</a></span>&#160;  std::string <a class="code" href="classhtgs_1_1_task_graph.html#a7aef3d35cc073b1d0538c34eb6ab59a5">genDotGraph</a>() {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    std::ostringstream oss;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;digraph { rankdir=\&quot;TB\&quot;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;forcelabels=true;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;node[shape=record, fontsize=10, fontname=\&quot;Verdana\&quot;];&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;edge[fontsize=10, fontname=\&quot;Verdana\&quot;];&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;graph [compound=true];&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *bTask : *<a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>) {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      oss &lt;&lt; bTask-&gt;getDot();</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ad49f8f0bea5e18c12e0c6fe35b58d72e">graphInputConsumers</a>-&gt;size() &gt; 0)</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      oss &lt;&lt; this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a>-&gt;getDotId() &lt;&lt; <span class="stringliteral">&quot;[label=\&quot;Graph Input\n&quot;</span> &lt;&lt; this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a>-&gt;getProducerCount() &lt;&lt; <span class="stringliteral">&quot;\&quot;];&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#aba7a956895252da85a842f2bb6e3ba7b">graphOutputProducers</a>-&gt;size() &gt; 0)</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      oss &lt;&lt; <span class="stringliteral">&quot;{ rank = sink; &quot;</span> &lt;&lt; this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">output</a>-&gt;getDotId() &lt;&lt; <span class="stringliteral">&quot;[label=\&quot;Graph Output\n&quot;</span> &lt;&lt; this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">output</a>-&gt;getProducerCount() &lt;&lt; <span class="stringliteral">&quot;\&quot;]; }&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>-&gt;size() &gt; 0) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;kv : *this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;memConnector : *kv.second)</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        oss &lt;&lt; std::string(<span class="stringliteral">&quot;mainThread&quot;</span>) &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; memConnector-&gt;getDotId() &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">if</span> (oss.str().find(<span class="stringliteral">&quot;mainThread&quot;</span>) != std::string::npos)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      oss &lt;&lt; <span class="stringliteral">&quot;{ rank = sink; mainThread[label=\&quot;Main Thread\&quot;, fillcolor = Sienna]; }\n&quot;</span>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;}&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">return</span> oss.str();</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div>
<div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a15b4bb176539081a1a74428aaa337ed5">  494</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a15b4bb176539081a1a74428aaa337ed5">produceData</a>(T *data) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a>-&gt;produceData(std::shared_ptr&lt;T&gt;(data));</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a2d896acdc5a27ed9db6340cd2b5995ed">  505</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a2d896acdc5a27ed9db6340cd2b5995ed">produceData</a>(std::shared_ptr&lt;T&gt; data) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a>-&gt;produceData(data);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div>
<div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a538cbbc552965902fec6faac67766fbf">  516</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a538cbbc552965902fec6faac67766fbf">produceData</a>(std::list&lt;std::shared_ptr&lt;T&gt;&gt; *dataList) {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a>-&gt;produceData(dataList);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div>
<div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#aa222a7e8f5d3fe0a29bfb85e90203c34">  529</a></span>&#160;  std::shared_ptr&lt;U&gt; <a class="code" href="classhtgs_1_1_task_graph.html#aa222a7e8f5d3fe0a29bfb85e90203c34">consumeData</a>() {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">output</a>-&gt;consumeData();</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div>
<div class="line"><a name="l00538"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a994884edaae94574d64ee9fd5d0fd7a4">  538</a></span>&#160;  std::shared_ptr&lt;U&gt; <a class="code" href="classhtgs_1_1_task_graph.html#a994884edaae94574d64ee9fd5d0fd7a4">pollData</a>(<span class="keywordtype">long</span> microTimeout) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">output</a>-&gt;pollConsumeData(microTimeout);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a0ad46b99c6a98747464100e1a739a419">  548</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classhtgs_1_1_task_graph.html#a0ad46b99c6a98747464100e1a739a419">isOutputTerminated</a>() {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">output</a>-&gt;isInputTerminated();</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div>
<div class="line"><a name="l00557"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a5e7fc0040c4c1e6b4073963b6047e78c">  557</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a5e7fc0040c4c1e6b4073963b6047e78c">updateGraphInputConsumers</a>(std::shared_ptr&lt;<a class="code" href="classhtgs_1_1_connector.html">Connector&lt;T&gt;</a>&gt; connector) {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *bs : *this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ad49f8f0bea5e18c12e0c6fe35b58d72e">graphInputConsumers</a>) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      bs-&gt;setInputConnector(connector);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a> = connector;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div>
<div class="line"><a name="l00571"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#aaf726a7c0ee834a7b7cb1c906b1cc9af">  571</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#aaf726a7c0ee834a7b7cb1c906b1cc9af">updateGraphOutputProducers</a>(std::shared_ptr&lt;<a class="code" href="classhtgs_1_1_connector.html">Connector&lt;U&gt;</a>&gt; connector, <span class="keywordtype">bool</span> increment) {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *bs : *this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#aba7a956895252da85a842f2bb6e3ba7b">graphOutputProducers</a>) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      bs-&gt;setOutputConnector(connector);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="keywordflow">if</span> (increment)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;          connector-&gt;incrementInputTaskCount();</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">output</a> = connector;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00585"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#af9e0b81f63357747bb18f0b26afdbfbe">  585</a></span>&#160;  std::list&lt;BaseTaskScheduler *&gt; *<a class="code" href="classhtgs_1_1_task_graph.html#af9e0b81f63357747bb18f0b26afdbfbe">getOutputProducers</a>() {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#aba7a956895252da85a842f2bb6e3ba7b">graphOutputProducers</a>;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> V&gt;</div>
<div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#ae86df3ba7ed64101ec7523a0775b7947">  595</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#ae86df3ba7ed64101ec7523a0775b7947">addGraphInputConsumer</a>(<a class="code" href="classhtgs_1_1_i_task.html">ITask&lt;T, V&gt;</a> *iTask) {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <a class="code" href="classhtgs_1_1_task_scheduler.html">TaskScheduler&lt;T, V&gt;</a> * task = getTaskScheduler(iTask, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#ae86df3ba7ed64101ec7523a0775b7947">addGraphInputConsumer</a>(task);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> V&gt;</div>
<div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#ad9ee57959ed601eb7d5c67d4c2f6450f">  605</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#ad9ee57959ed601eb7d5c67d4c2f6450f">addGraphOutputProducer</a>(<a class="code" href="classhtgs_1_1_i_task.html">ITask&lt;V, U&gt;</a> *iTask) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <a class="code" href="classhtgs_1_1_task_scheduler.html">TaskScheduler&lt;V, U&gt;</a> *task = getTaskScheduler(iTask, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#ad9ee57959ed601eb7d5c67d4c2f6450f">addGraphOutputProducer</a>(task);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div>
<div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a1dfcadb07611c7c71ef5d09ce59bc8c6">  614</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a1dfcadb07611c7c71ef5d09ce59bc8c6">incrementGraphInputProducer</a>() {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a>-&gt;incrementInputTaskCount();</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div>
<div class="line"><a name="l00622"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a269aec3b063044df915f7d9fe30b6650">  622</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a269aec3b063044df915f7d9fe30b6650">finishedProducingData</a>() {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a>-&gt;producerFinished();</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a>-&gt;wakeupConsumer();</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div>
<div class="line"><a name="l00635"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a9eb8248f52fb8f4ce7bc39ab4246b098">  635</a></span>&#160;  <a class="code" href="classhtgs_1_1_task_graph.html">TaskGraph&lt;T, U&gt;</a> *<a class="code" href="classhtgs_1_1_task_graph.html#a9eb8248f52fb8f4ce7bc39ab4246b098">copy</a>(<span class="keywordtype">int</span> <a class="code" href="classhtgs_1_1_task_graph.html#a6df0b9432ea30ea6892caee8dfb04d5f">pipelineId</a>, <span class="keywordtype">int</span> numPipelines) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html">TaskGraph&lt;T, U&gt;</a> *graphCopy = <span class="keyword">new</span> <a class="code" href="classhtgs_1_1_task_graph.html">TaskGraph&lt;T, U&gt;</a>();</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="comment">// Pass the reference of the mem releaser and mmTypeMap to the copy</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    graphCopy-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a16f89353456575dbc1ce17bf6672d8e2">setMMTypeMap</a>(this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3eddc7a9f5a6ff589a8324cd332554d2">mmTypeMap</a>);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    graphCopy-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#acff1b5c7015c1925be1187f3c4e8edc3">setMemReleaser</a>(this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    graphCopy-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a737d7f6d47097806b1e44c0d2717480d">setPipelineId</a>(pipelineId);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    std::map&lt;BaseTaskScheduler *, BaseTaskScheduler *&gt; copyMap;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    std::map&lt;BaseITask *, BaseITask *&gt; copyITaskMap;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="comment">// Create a clone map to lookup pointers</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *task : *this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *taskCopy = task-&gt;<a class="code" href="classhtgs_1_1_base_task_scheduler.html#a889cf25bd0edf9085293bf9a1321bc37">copy</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      taskCopy-&gt;<a class="code" href="classhtgs_1_1_base_task_scheduler.html#a380740f30c9b37ebe6e84993ee60d79e">setPipelineId</a>(pipelineId);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      taskCopy-&gt;<a class="code" href="classhtgs_1_1_base_task_scheduler.html#a6830a5118c0a4e646bbc419027947fb0">setNumPipelines</a>(numPipelines);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      copyMap.insert(std::pair&lt;BaseTaskScheduler *, BaseTaskScheduler *&gt;(task, taskCopy));</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      copyITaskMap.insert(std::pair&lt;BaseITask *, BaseITask *&gt;(task-&gt;getTaskFunction(), taskCopy-&gt;<a class="code" href="classhtgs_1_1_base_task_scheduler.html#aa3a25314072e7885e83eb7fa8fe9cd9d">getTaskFunction</a>()));</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="comment">// Copy producer consumers</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classhtgs_1_1_producer_consumer_key.html">ProducerConsumerKey</a> *prConKey : *this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#abcb60fed41d4d698302b340cdb817662">producerConsumerKeys</a>) {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *producer = prConKey-&gt;getProducer();</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *consumer = prConKey-&gt;getConsumer();</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *producerCopy = copyMap.find(producer)-&gt;second;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *consumerCopy = copyMap.find(consumer)-&gt;second;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      graphCopy-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a88a428a714464c9c757668d3544c4328">addEdge</a>(producerCopy, consumerCopy, producer-&gt;<a class="code" href="classhtgs_1_1_base_task_scheduler.html#a9b11a8c14ff82074f61c2ff3bef49a1c">getOutputBaseConnector</a>());</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      consumerCopy-&gt;<a class="code" href="classhtgs_1_1_base_task_scheduler.html#ad8bd60bd8efe9c988247fa613b63481b">addPipelineConnector</a>(pipelineId);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    }</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="comment">// Copy bookkeepers</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classhtgs_1_1_bookkeeper_key.html">BookkeeperKey</a> *bkKey : *this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#afae22a6e7746b14eb7104f4052130903">bookkeeperKeys</a>) {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *bkTask = bkKey-&gt;getBkTask();</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <a class="code" href="classhtgs_1_1_base_base_rule_manager.html">BaseBaseRuleManager</a> *ruleMan = bkKey-&gt;getRuleMan();</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *outputTask = bkKey-&gt;getOutputTask();</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *outputTaskCopy = copyMap.find(outputTask)-&gt;second;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *bkTaskCopy = copyMap.find(bkTask)-&gt;second;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <a class="code" href="classhtgs_1_1_base_base_rule_manager.html">BaseBaseRuleManager</a> *ruleManCopy = ruleMan-&gt;<a class="code" href="classhtgs_1_1_base_base_rule_manager.html#a7cef9d176f9d6cf6b1683189284cc38d">copy</a>();</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <a class="code" href="classhtgs_1_1_base_i_task.html">BaseITask</a> *bkITask = bkTaskCopy-&gt;<a class="code" href="classhtgs_1_1_base_task_scheduler.html#aa3a25314072e7885e83eb7fa8fe9cd9d">getTaskFunction</a>();</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      graphCopy-&gt;addRuleManager(bkTaskCopy, bkITask, ruleManCopy, outputTaskCopy, ruleMan-&gt;<a class="code" href="classhtgs_1_1_base_base_rule_manager.html#ac2bc3be0f0e6ffe4096f151b836f75b0">getConnector</a>());</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      outputTaskCopy-&gt;<a class="code" href="classhtgs_1_1_base_task_scheduler.html#ad8bd60bd8efe9c988247fa613b63481b">addPipelineConnector</a>(pipelineId);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">for</span> (CustomEdgePair cep : *<a class="code" href="classhtgs_1_1_task_graph.html#a59fcb645a6b7bf7b12c99190465a084b">customEdgeList</a>) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *producerTask = cep.first.first;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *consumerTask = cep.first.second;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      <a class="code" href="classhtgs_1_1_i_custom_edge.html">ICustomEdge</a> *customEdge = cep.second;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      <span class="comment">// Find copy</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *producerTaskCopy = copyMap.find(producerTask)-&gt;second;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *consumerTaskCopy = copyMap.find(consumerTask)-&gt;second;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      <a class="code" href="classhtgs_1_1_i_custom_edge.html">ICustomEdge</a> *customEdgeCopy = customEdge-&gt;<a class="code" href="classhtgs_1_1_i_custom_edge.html#a138bc223cf96a622f192b588b9c719ce">copy</a>();</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      graphCopy-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a49108102e5ae88e7a18ceeac3b2083c4">addCustomEdge</a>(producerTaskCopy, consumerTaskCopy, customEdgeCopy, pipelineId);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="comment">// Copy graph input consumers</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *task : *this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ad49f8f0bea5e18c12e0c6fe35b58d72e">graphInputConsumers</a>) {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *taskCopy = copyMap.find(task)-&gt;second;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      graphCopy-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ae86df3ba7ed64101ec7523a0775b7947">addGraphInputConsumer</a>(taskCopy);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    }</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="comment">// Copy graph output producers</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *task : *this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#aba7a956895252da85a842f2bb6e3ba7b">graphOutputProducers</a>) {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *taskCopy = copyMap.find(task)-&gt;second;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      graphCopy-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ad9ee57959ed601eb7d5c67d4c2f6450f">addGraphOutputProducer</a>(taskCopy);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    }</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="comment">// Copy memory managers</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classhtgs_1_1_memory_manager_key.html">MemoryManagerKey</a> *mmKey : *this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#aeb758c08a5b589622bc447c2235ff1fd">memoryManagerKeys</a>) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      std::string name = mmKey-&gt;getName();</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <a class="code" href="classhtgs_1_1_base_i_task.html">BaseITask</a> *memGetter = mmKey-&gt;getMemGetter();</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      <a class="code" href="classhtgs_1_1_base_i_task.html">BaseITask</a> *<a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a> = mmKey-&gt;getMemReleaser();</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *memTask = mmKey-&gt;getMemTask();</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <a class="code" href="classhtgs_1_1_base_i_task.html">BaseITask</a> *memGetterCopy = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <span class="keywordflow">if</span> (copyITaskMap.find(memGetter) != copyITaskMap.end())</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        memGetterCopy = copyITaskMap.find(memGetter)-&gt;second;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        memGetterCopy = memGetter;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <a class="code" href="classhtgs_1_1_base_i_task.html">BaseITask</a> *memReleaserCopy = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      <span class="keywordflow">if</span> (memReleaser != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <span class="keywordflow">if</span> (copyITaskMap.find(memReleaser) != copyITaskMap.end())</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;          memReleaserCopy = copyITaskMap.find(memReleaser)-&gt;second;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;          memReleaserCopy = <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      }</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *memTaskCopy = copyMap.find(memTask)-&gt;second;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <span class="keywordflow">if</span> (memReleaserCopy == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        graphCopy-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a80e18746a83108c7cfbecc0b854f5ddc">addGraphMemoryManagerEdge</a>(name, memGetterCopy, memTaskCopy,</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                                             memTask-&gt;<a class="code" href="classhtgs_1_1_base_task_scheduler.html#a21f1fc4133f1868e6ce2105974fb2fbb">getInputBaseConnector</a>(), mmKey-&gt;getMMType());</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      }</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        graphCopy-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#afb58c16bd3e1240d818f63c6321e343f">addMemoryManagerEdge</a>(name, memGetterCopy, memReleaserCopy, memTaskCopy,</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                                        memTask-&gt;<a class="code" href="classhtgs_1_1_base_task_scheduler.html#a21f1fc4133f1868e6ce2105974fb2fbb">getInputBaseConnector</a>(), mmKey-&gt;getMMType(), mmKey-&gt;isIsReleaserOutsideGraph());</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      memTaskCopy-&gt;<a class="code" href="classhtgs_1_1_base_task_scheduler.html#ad8bd60bd8efe9c988247fa613b63481b">addPipelineConnector</a>(pipelineId);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">return</span> graphCopy;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  };</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> V, <span class="keyword">class</span> W, <span class="keyword">class</span> X&gt;</div>
<div class="line"><a name="l00762"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a88a428a714464c9c757668d3544c4328">  762</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a88a428a714464c9c757668d3544c4328">addEdge</a>(<a class="code" href="classhtgs_1_1_i_task.html">ITask&lt;V, W&gt;</a> *producer, <a class="code" href="classhtgs_1_1_i_task.html">ITask&lt;W, X&gt;</a> *consumer) {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <a class="code" href="classhtgs_1_1_task_scheduler.html">TaskScheduler&lt;V, W&gt;</a> *producerTask = getTaskScheduler(producer, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <a class="code" href="classhtgs_1_1_task_scheduler.html">TaskScheduler&lt;W, X&gt;</a> *consumerTask = getTaskScheduler(consumer, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a88a428a714464c9c757668d3544c4328">addEdge</a>(producerTask, consumerTask);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  };</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> V, <span class="keyword">class</span> W, <span class="keyword">class</span> X&gt;</div>
<div class="line"><a name="l00779"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a06dc23492237350c4ce8036818e5d984">  779</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a06dc23492237350c4ce8036818e5d984">addRule</a>(<a class="code" href="classhtgs_1_1_bookkeeper.html">Bookkeeper&lt;V&gt;</a> *bk, <a class="code" href="classhtgs_1_1_i_task.html">ITask&lt;W, X&gt;</a> *consumer, <a class="code" href="classhtgs_1_1_i_rule.html">IRule&lt;V, W&gt;</a> * rule) {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <a class="code" href="classhtgs_1_1_task_scheduler.html">TaskScheduler&lt;V, VoidData&gt;</a> *bkTask = getTaskScheduler(bk, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <a class="code" href="classhtgs_1_1_task_scheduler.html">TaskScheduler&lt;W, X&gt;</a> *consumerTask = getTaskScheduler(consumer, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <a class="code" href="classhtgs_1_1_rule_manager.html">RuleManager&lt;V, W&gt;</a> *ruleMan = getRuleManager(bk, consumer);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    std::shared_ptr&lt;IRule&lt;V, W&gt;&gt; iRuleShr = getIRule(rule);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    ruleMan-&gt;<a class="code" href="classhtgs_1_1_rule_manager.html#adff766b4e8de8877375f6e94f51d3060">addRule</a>(iRuleShr);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    addRuleManager(bkTask, bk, ruleMan, consumerTask);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  }</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div>
<div class="line"><a name="l00795"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a49108102e5ae88e7a18ceeac3b2083c4">  795</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a49108102e5ae88e7a18ceeac3b2083c4">addCustomEdge</a>(<a class="code" href="classhtgs_1_1_i_custom_edge.html">ICustomEdge</a> *customEdge) {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *producerTask = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>-&gt;find(customEdge-&gt;<a class="code" href="classhtgs_1_1_i_custom_edge.html#a2005154acf9440e5826a84eb38fd6a5a">getProducerITask</a>()) != this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>-&gt;end()) {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      producerTask = this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>-&gt;find(customEdge-&gt;<a class="code" href="classhtgs_1_1_i_custom_edge.html#a2005154acf9440e5826a84eb38fd6a5a">getProducerITask</a>())-&gt;second;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      producerTask = customEdge-&gt;<a class="code" href="classhtgs_1_1_i_custom_edge.html#ae5cd5f817b4009b753cc8e1a37ae6035">createProducerTask</a>();</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      <span class="keywordflow">if</span> (producerTask == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        std::cerr</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;Custom edge defines the producer as nullptr, this may require that the producer should already exist in the graph&quot;</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            &lt;&lt; std::endl;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Must add producer iTask to graph before adding as custom edge&quot;</span>);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      }</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>-&gt;insert(ITaskPair(customEdge-&gt;<a class="code" href="classhtgs_1_1_i_custom_edge.html#a2005154acf9440e5826a84eb38fd6a5a">getProducerITask</a>(), producerTask));</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    }</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *consumerTask = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>-&gt;find(customEdge-&gt;<a class="code" href="classhtgs_1_1_i_custom_edge.html#a625e58cbcbebf0d947f3b0798e269a27">getConsumerITask</a>()) != this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>-&gt;end()) {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      consumerTask = this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>-&gt;find(customEdge-&gt;<a class="code" href="classhtgs_1_1_i_custom_edge.html#a625e58cbcbebf0d947f3b0798e269a27">getConsumerITask</a>())-&gt;second;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      consumerTask = customEdge-&gt;<a class="code" href="classhtgs_1_1_i_custom_edge.html#a6640d1fb7e2191a4f4ccbb1bd2638c18">createConsumerTask</a>();</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      <span class="keywordflow">if</span> (consumerTask == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        std::cerr</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;Custom edge defines the consumer as nullptr, this may require that the consumer should already exist in the graph&quot;</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            &lt;&lt; std::endl;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Must add consumer iTask to graph before adding as custom edge&quot;</span>);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      }</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>-&gt;insert(ITaskPair(customEdge-&gt;<a class="code" href="classhtgs_1_1_i_custom_edge.html#a625e58cbcbebf0d947f3b0798e269a27">getConsumerITask</a>(), consumerTask));</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    std::shared_ptr&lt;BaseConnector&gt; connector = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">if</span> (customEdge-&gt;<a class="code" href="classhtgs_1_1_i_custom_edge.html#a584cea03bc5d575475145799fb5ec88f">useConnector</a>()) {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;find(consumerTask) != this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;end()) {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        connector = this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;find(consumerTask)-&gt;second;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        connector = std::shared_ptr&lt;BaseConnector&gt;(customEdge-&gt;<a class="code" href="classhtgs_1_1_i_custom_edge.html#a0a4cac9b27ead2c8c7470a79f25235d3">createConnector</a>());</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;insert(ConnectorPair(consumerTask, connector));</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      }</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    }</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    std::pair&lt;BaseTaskScheduler *, BaseTaskScheduler *&gt; prodConsPair(producerTask, consumerTask);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    CustomEdgePair testPair(prodConsPair, customEdge);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keyword">auto</span> i = std::find_if(<a class="code" href="classhtgs_1_1_task_graph.html#a59fcb645a6b7bf7b12c99190465a084b">customEdgeList</a>-&gt;begin(), <a class="code" href="classhtgs_1_1_task_graph.html#a59fcb645a6b7bf7b12c99190465a084b">customEdgeList</a>-&gt;end(), <a class="code" href="structhtgs_1_1_custom_edge_comparator.html">CustomEdgeComparator</a>(testPair));</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordflow">if</span> (i == <a class="code" href="classhtgs_1_1_task_graph.html#a59fcb645a6b7bf7b12c99190465a084b">customEdgeList</a>-&gt;end()) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a59fcb645a6b7bf7b12c99190465a084b">customEdgeList</a>-&gt;push_back(testPair);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    }</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    customEdge-&gt;<a class="code" href="classhtgs_1_1_i_custom_edge.html#a483553439de31b87451da07b2254634a">applyGraphConnection</a>(producerTask, consumerTask, connector, 0, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    updateGraphHistory(producerTask, <span class="keyword">false</span>, customEdge-&gt;<a class="code" href="classhtgs_1_1_i_custom_edge.html#a584cea03bc5d575475145799fb5ec88f">useConnector</a>());</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    updateGraphHistory(consumerTask, customEdge-&gt;<a class="code" href="classhtgs_1_1_i_custom_edge.html#a584cea03bc5d575475145799fb5ec88f">useConnector</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  }</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> V&gt;</div>
<div class="line"><a name="l00869"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#afb58c16bd3e1240d818f63c6321e343f">  869</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#afb58c16bd3e1240d818f63c6321e343f">addMemoryManagerEdge</a>(<a class="code" href="classhtgs_1_1_base_i_task.html">BaseITask</a> *memGetter, <a class="code" href="classhtgs_1_1_base_i_task.html">BaseITask</a> *<a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>, <a class="code" href="classhtgs_1_1_memory_manager.html">MemoryManager&lt;V&gt;</a> *memoryManager, <span class="keywordtype">bool</span> ignoreMemGetterErrors)</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="comment">// Check if the Memory Manager task exists or not</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="comment">// If it does then get that task and do not create connectors</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <a class="code" href="classhtgs_1_1_task_scheduler.html">TaskScheduler&lt;MemoryData&lt;V&gt;</a>, <a class="code" href="classhtgs_1_1_memory_data.html">MemoryData&lt;V&gt;</a>&gt; *memTask = getTaskScheduler(memoryManager, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="keywordtype">bool</span> isReleaserOutsideGraph;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keywordflow">if</span> (hasITask(memReleaser))</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      isReleaserOutsideGraph = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      isReleaserOutsideGraph = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    attachMemGetter(memoryManager-&gt;<a class="code" href="classhtgs_1_1_memory_manager.html#af64691d20057a62f66489cdb73a56b70">getMemoryManagerName</a>(), memGetter, memoryManager-&gt;<a class="code" href="classhtgs_1_1_memory_manager.html#a257a303ce6647fe9813f814cdacae8a8">getType</a>(), memTask-&gt;<a class="code" href="classhtgs_1_1_task_scheduler.html#afe65e0df9c72bc8e717b340f20fd73eb">getOutputBaseConnector</a>(), ignoreMemGetterErrors);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    attachMemReleaser(memoryManager-&gt;<a class="code" href="classhtgs_1_1_memory_manager.html#af64691d20057a62f66489cdb73a56b70">getMemoryManagerName</a>(), <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>, memoryManager-&gt;<a class="code" href="classhtgs_1_1_memory_manager.html#a257a303ce6647fe9813f814cdacae8a8">getType</a>(), memTask-&gt;<a class="code" href="classhtgs_1_1_task_scheduler.html#af3ed1b4b71262188fefc3087095357ff">getInputBaseConnector</a>(), isReleaserOutsideGraph);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    memTask-&gt;<a class="code" href="classhtgs_1_1_task_scheduler.html#af3ed1b4b71262188fefc3087095357ff">getInputBaseConnector</a>()-&gt;incrementInputTaskCount();</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    updateGraphHistory(memTask, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="comment">// Save this information for copy</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#aeb758c08a5b589622bc447c2235ff1fd">memoryManagerKeys</a>-&gt;push_back(<span class="keyword">new</span> <a class="code" href="classhtgs_1_1_memory_manager_key.html">MemoryManagerKey</a>(memoryManager-&gt;<a class="code" href="classhtgs_1_1_memory_manager.html#af64691d20057a62f66489cdb73a56b70">getMemoryManagerName</a>(), memGetter, <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>, memTask, memoryManager-&gt;<a class="code" href="classhtgs_1_1_memory_manager.html#a257a303ce6647fe9813f814cdacae8a8">getType</a>(), isReleaserOutsideGraph));</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  }</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="preprocessor">#ifdef USE_CUDA</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> V&gt;</div>
<div class="line"><a name="l00908"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a1aa75e2d446c8ffc4430f1011f81cbfc">  908</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a1aa75e2d446c8ffc4430f1011f81cbfc">addCudaMemoryManagerEdge</a>(std::string name, <a class="code" href="classhtgs_1_1_base_i_task.html">BaseITask</a> *memGetter, <a class="code" href="classhtgs_1_1_base_i_task.html">BaseITask</a> *<a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>,</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;          <a class="code" href="classhtgs_1_1_i_memory_allocator.html">IMemoryAllocator&lt;V&gt;</a> *allocator, <span class="keywordtype">int</span> memoryPoolSize, MMType type, CUcontext * contexts) {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      <span class="keywordflow">if</span> (!hasITask(memGetter)) {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;          std::cerr &lt;&lt; <span class="stringliteral">&quot; Must add iTask &quot;</span> &lt;&lt; memGetter-&gt;<a class="code" href="classhtgs_1_1_base_i_task.html#a02753bdc4348f8087a677adcc5bd3330">getName</a>() &lt;&lt; <span class="stringliteral">&quot; to graph before adding it as a memory edge&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;          <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Must add iTask to graph before adding as memory edge&quot;</span>);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      }</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      std::shared_ptr&lt;IMemoryAllocator&lt;V&gt;&gt; allocP = getMemoryAllocator(allocator);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      <span class="keywordtype">bool</span> ignoreMemGetterErrors;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <a class="code" href="classhtgs_1_1_cuda_memory_manager.html">CudaMemoryManager&lt;V&gt;</a> *memManager = getCudaMemoryManager(memGetter, name, memoryPoolSize, allocP, type, contexts, &amp;ignoreMemGetterErrors);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <a class="code" href="classhtgs_1_1_task_graph.html#afb58c16bd3e1240d818f63c6321e343f">addMemoryManagerEdge</a>(memGetter, memReleaser, memManager, ignoreMemGetterErrors);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  }</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00933"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#ac52a73d3082454886f45c7a0d5241e32">  933</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#ac52a73d3082454886f45c7a0d5241e32">addUserManagedMemoryManagerEdge</a>(std::string name,</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                                       <a class="code" href="classhtgs_1_1_base_i_task.html">BaseITask</a> *memGetter,</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                                       <a class="code" href="classhtgs_1_1_base_i_task.html">BaseITask</a> *<a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>,</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                                       <span class="keywordtype">int</span> memoryPoolSize) {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#afb58c16bd3e1240d818f63c6321e343f">addMemoryManagerEdge</a>(name, memGetter, memReleaser, <span class="keyword">new</span> <a class="code" href="classhtgs_1_1_void_memory_allocator.html">VoidMemoryAllocator</a>(), memoryPoolSize, MMType::UserManaged);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  }</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> V&gt;</div>
<div class="line"><a name="l00952"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a3a502670e0a22b957fdcc20f1bddc67a">  952</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a3a502670e0a22b957fdcc20f1bddc67a">addMemoryManagerEdge</a>(std::string name, <a class="code" href="classhtgs_1_1_base_i_task.html">BaseITask</a> *memGetter, <a class="code" href="classhtgs_1_1_base_i_task.html">BaseITask</a> *<a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>,</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                            <a class="code" href="classhtgs_1_1_i_memory_allocator.html">IMemoryAllocator&lt;V&gt;</a> *allocator, <span class="keywordtype">int</span> memoryPoolSize, MMType type) {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordflow">if</span> (!hasITask(memGetter)) {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      std::cerr &lt;&lt; <span class="stringliteral">&quot; Must add iTask &quot;</span> &lt;&lt; memGetter-&gt;<a class="code" href="classhtgs_1_1_base_i_task.html#a02753bdc4348f8087a677adcc5bd3330">getName</a>() &lt;&lt; <span class="stringliteral">&quot; to graph before adding it to a memory edge&quot;</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;          &lt;&lt; std::endl;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Must add iTask to graph before adding to memory edge&quot;</span>);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    }</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    std::shared_ptr&lt;IMemoryAllocator&lt;V&gt;&gt; allocP = getMemoryAllocator(allocator);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="comment">// mem getter errors occur when trying to add a memory edge to a mem getter that already contains the named edge</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordtype">bool</span> ignoreMemGetterErrors;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <a class="code" href="classhtgs_1_1_memory_manager.html">MemoryManager&lt;V&gt;</a> *memManager = getMemoryManager(memGetter, name, memoryPoolSize, allocP, type, &amp;ignoreMemGetterErrors);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#afb58c16bd3e1240d818f63c6321e343f">addMemoryManagerEdge</a>(memGetter, memReleaser, memManager, ignoreMemGetterErrors);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  }</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div>
<div class="line"><a name="l00979"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a95f57abc60c2b59f5b686f0334c4c56f">  979</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a95f57abc60c2b59f5b686f0334c4c56f">addGraphUserManagedMemoryManagerEdge</a>(std::string name,</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                                       <a class="code" href="classhtgs_1_1_base_i_task.html">BaseITask</a> *memGetter,</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                                       <span class="keywordtype">int</span> memoryPoolSize) {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a80e18746a83108c7cfbecc0b854f5ddc">addGraphMemoryManagerEdge</a>(name, memGetter, <span class="keyword">new</span> <a class="code" href="classhtgs_1_1_void_memory_allocator.html">VoidMemoryAllocator</a>(), memoryPoolSize, MMType::UserManaged);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> V&gt;</div>
<div class="line"><a name="l00997"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a80e18746a83108c7cfbecc0b854f5ddc">  997</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a80e18746a83108c7cfbecc0b854f5ddc">addGraphMemoryManagerEdge</a>(std::string name, <a class="code" href="classhtgs_1_1_base_i_task.html">BaseITask</a> *memGetter,</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                                 <a class="code" href="classhtgs_1_1_i_memory_allocator.html">IMemoryAllocator&lt;V&gt;</a> *allocator, <span class="keywordtype">int</span> memoryPoolSize, MMType type)</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keywordflow">if</span> (!hasITask(memGetter)) {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      std::cerr &lt;&lt; <span class="stringliteral">&quot; Must add iTask &quot;</span> &lt;&lt; memGetter-&gt;<a class="code" href="classhtgs_1_1_base_i_task.html#a02753bdc4348f8087a677adcc5bd3330">getName</a>() &lt;&lt; <span class="stringliteral">&quot; to graph before adding it to a memory edge&quot;</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;          &lt;&lt; std::endl;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Must add iTask to graph before adding to memory edge&quot;</span>);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    }</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    std::shared_ptr&lt;IMemoryAllocator&lt;V&gt;&gt; allocP = getMemoryAllocator(allocator);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="comment">// mem getter errors occur when trying to add a memory edge to a mem getter that already contains the named edge</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordtype">bool</span> ignoreMemGetterErrors = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <a class="code" href="classhtgs_1_1_memory_manager.html">MemoryManager&lt;V&gt;</a> *memManager = getMemoryManager(memGetter, name, memoryPoolSize, allocP, type, &amp;ignoreMemGetterErrors);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <a class="code" href="classhtgs_1_1_task_scheduler.html">TaskScheduler&lt;MemoryData&lt;V&gt;</a>, <a class="code" href="classhtgs_1_1_memory_data.html">MemoryData&lt;V&gt;</a>&gt; *memTask = getTaskScheduler(memManager, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    attachMemGetter(name, memGetter, type, memTask-&gt;<a class="code" href="classhtgs_1_1_task_scheduler.html#afe65e0df9c72bc8e717b340f20fd73eb">getOutputBaseConnector</a>(), ignoreMemGetterErrors);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <a class="code" href="debug__message_8h.html#aecc1f7a8a2493b9e021e5bff76a00a5b">DEBUG</a>(<span class="stringliteral">&quot;Adding memory releaser &quot;</span> &lt;&lt; name &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; <span class="stringliteral">&quot;TaskGraph&quot;</span>&lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a> &lt;&lt;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="stringliteral">&quot; at connector &quot;</span> &lt;&lt;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        memTask-&gt;<a class="code" href="classhtgs_1_1_task_scheduler.html#af3ed1b4b71262188fefc3087095357ff">getInputBaseConnector</a>());</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    std::shared_ptr&lt;std::vector&lt;std::shared_ptr&lt;BaseConnector&gt;&gt;&gt; vector;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classhtgs_1_1_task_graph.html#a1ef6760e463dea6e6bf38d8cfa72c94e">hasMemReleaser</a>(name))</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      vector = <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>-&gt;find(name)-&gt;second;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      vector = std::shared_ptr&lt;std::vector&lt;std::shared_ptr&lt;BaseConnector&gt;&gt;&gt;(<span class="keyword">new</span> std::vector&lt;std::shared_ptr&lt;BaseConnector&gt;&gt;());</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    vector-&gt;push_back(memTask-&gt;<a class="code" href="classhtgs_1_1_task_scheduler.html#af3ed1b4b71262188fefc3087095357ff">getInputBaseConnector</a>());</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a3eddc7a9f5a6ff589a8324cd332554d2">mmTypeMap</a>-&gt;insert(std::pair&lt;std::string, MMType&gt;(name, type));</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>-&gt;insert(std::pair&lt;std::string, std::shared_ptr&lt;std::vector&lt;std::shared_ptr&lt;BaseConnector&gt;&gt;&gt;&gt;(name, vector));</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    memTask-&gt;<a class="code" href="classhtgs_1_1_task_scheduler.html#af3ed1b4b71262188fefc3087095357ff">getInputBaseConnector</a>()-&gt;incrementInputTaskCount();</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    updateGraphHistory(memTask, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#aeb758c08a5b589622bc447c2235ff1fd">memoryManagerKeys</a>-&gt;push_back(<span class="keyword">new</span> <a class="code" href="classhtgs_1_1_memory_manager_key.html">MemoryManagerKey</a>(name, memGetter, <span class="keyword">nullptr</span>, memTask, type, <span class="keyword">false</span>));</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  }</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;</div>
<div class="line"><a name="l01048"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a1ef6760e463dea6e6bf38d8cfa72c94e"> 1048</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classhtgs_1_1_task_graph.html#a1ef6760e463dea6e6bf38d8cfa72c94e">hasMemReleaser</a>(std::string name) {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>-&gt;find(name) != <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>-&gt;end();</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> V&gt;</div>
<div class="line"><a name="l01062"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a7cac8b84ca8ebc6720a8beaa8c291017"> 1062</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a7cac8b84ca8ebc6720a8beaa8c291017">memRelease</a>(std::string name, std::shared_ptr&lt;<a class="code" href="classhtgs_1_1_memory_data.html">MemoryData&lt;V&gt;</a>&gt; memory) {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    assert(this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3eddc7a9f5a6ff589a8324cd332554d2">mmTypeMap</a>-&gt;find(name)-&gt;second == MMType::Static</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;               || this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3eddc7a9f5a6ff589a8324cd332554d2">mmTypeMap</a>-&gt;find(name)-&gt;second == MMType::Dynamic);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    std::shared_ptr&lt;BaseConnector&gt; conn = <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>-&gt;find(name)-&gt;second-&gt;at((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) memory-&gt;getPipelineId());</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    std::shared_ptr&lt;Connector&lt;MemoryData&lt;V&gt;&gt;&gt; connector = std::dynamic_pointer_cast&lt;<a class="code" href="classhtgs_1_1_connector.html">Connector&lt;MemoryData&lt;V&gt;</a>&gt;&gt;(conn);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    connector-&gt;<a class="code" href="classhtgs_1_1_connector.html#ab1b9d21cf955c9a8fbcbec6603579c18">produceData</a>(memory);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div>
<div class="line"><a name="l01078"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a2c476cd25d048f1b548a447344630b11"> 1078</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a2c476cd25d048f1b548a447344630b11">memRelease</a>(std::string name, <span class="keywordtype">int</span> <a class="code" href="classhtgs_1_1_task_graph.html#a6df0b9432ea30ea6892caee8dfb04d5f">pipelineId</a>) {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    assert(this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3eddc7a9f5a6ff589a8324cd332554d2">mmTypeMap</a>-&gt;find(name)-&gt;second == MMType::UserManaged);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    std::shared_ptr&lt;MemoryData&lt;void *&gt;&gt; memory(<span class="keyword">new</span> <a class="code" href="classhtgs_1_1_memory_data.html">MemoryData&lt;void *&gt;</a>(<span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    memory-&gt;setPipelineId(pipelineId);</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    std::shared_ptr&lt;BaseConnector&gt; conn = <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>-&gt;find(name)-&gt;second-&gt;at((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) memory-&gt;getPipelineId());</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    std::shared_ptr&lt;Connector&lt;MemoryData&lt;void *&gt;&gt;&gt; connector = std::dynamic_pointer_cast&lt;<a class="code" href="classhtgs_1_1_connector.html">Connector&lt;MemoryData&lt;void *&gt;</a>&gt;&gt;(conn);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    connector-&gt;<a class="code" href="classhtgs_1_1_connector.html#ab1b9d21cf955c9a8fbcbec6603579c18">produceData</a>(memory);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div>
<div class="line"><a name="l01095"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#aaa2d6c7c4d2a6db015dea2ef45bd1fd0"> 1095</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#aaa2d6c7c4d2a6db015dea2ef45bd1fd0">finishReleasingMemory</a>()</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <a class="code" href="debug__message_8h.html#aecc1f7a8a2493b9e021e5bff76a00a5b">DEBUG</a>(<span class="stringliteral">&quot;TaskGraph&quot;</span> &lt;&lt; <span class="stringliteral">&quot; Shutting down &quot;</span> &lt;&lt; <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>-&gt;size() &lt;&lt;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="stringliteral">&quot; memory releasers&quot;</span>);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordflow">for</span> (std::pair&lt;std::string, std::shared_ptr&lt;std::vector&lt;std::shared_ptr&lt;BaseConnector&gt;&gt;&gt; &gt; pair : *this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>) {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      <a class="code" href="debug__message_8h.html#aecc1f7a8a2493b9e021e5bff76a00a5b">DEBUG</a>(<span class="stringliteral">&quot;TaskGraph &quot;</span> &lt;&lt; <span class="stringliteral">&quot; Shutting down memory releaser : &quot;</span> &lt;&lt;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;          pair.first &lt;&lt; <span class="stringliteral">&quot; with &quot;</span> &lt;&lt; pair.second-&gt;size() &lt;&lt; <span class="stringliteral">&quot; connectors&quot;</span>);</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      <span class="keywordflow">for</span> (std::shared_ptr&lt;BaseConnector&gt; connector : *pair.second)</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      {</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        connector-&gt;producerFinished();</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <span class="keywordflow">if</span> (connector-&gt;isInputTerminated())</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;          connector-&gt;wakeupConsumer();</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="comment">//        std::shared_ptr&lt;BaseConnector&gt; connector = pair.second-&gt;at((unsigned long) this-&gt;pipelineId);</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      }</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    }</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  }</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div>
<div class="line"><a name="l01120"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#ade85abad00174c1bd3cda3b7bf8c11dc"> 1120</a></span>&#160;  std::list&lt;std::shared_ptr&lt;BaseConnector&gt;&gt; *<a class="code" href="classhtgs_1_1_task_graph.html#ade85abad00174c1bd3cda3b7bf8c11dc">getEdges</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a758cb146a6f665f8115c5d539e94a62b">edges</a>;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  }</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div>
<div class="line"><a name="l01128"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a8d42081f8916e09fdb50f881bdc04c32"> 1128</a></span>&#160;  std::list&lt;BaseTaskScheduler *&gt; *<a class="code" href="classhtgs_1_1_task_graph.html#a8d42081f8916e09fdb50f881bdc04c32">getVertices</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  }</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;</div>
<div class="line"><a name="l01136"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a7a1339898887b4564ca4c87e2258f7a2"> 1136</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a7a1339898887b4564ca4c87e2258f7a2">addTaskCopy</a>(<a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *taskCopy)</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="keywordflow">if</span> (std::find(<a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>-&gt;begin(), <a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>-&gt;end(), taskCopy) == <a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>-&gt;end()) {</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>-&gt;push_back(taskCopy);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    }</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  }</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;</div>
<div class="line"><a name="l01147"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#ac4a63d2984a26602a39d590382baaf67"> 1147</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#ac4a63d2984a26602a39d590382baaf67">debug</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <a class="code" href="debug__message_8h.html#aecc1f7a8a2493b9e021e5bff76a00a5b">DEBUG</a>(<span class="stringliteral">&quot;-----------------------------------------------&quot;</span>);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <a class="code" href="debug__message_8h.html#aecc1f7a8a2493b9e021e5bff76a00a5b">DEBUG</a>(<span class="stringliteral">&quot;TaskGraph -- num vertices: &quot;</span> &lt;&lt; <a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>-&gt;size() &lt;&lt; <span class="stringliteral">&quot; num edges: &quot;</span> &lt;&lt; <a class="code" href="classhtgs_1_1_task_graph.html#a758cb146a6f665f8115c5d539e94a62b">edges</a>-&gt;size() &lt;&lt;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <span class="stringliteral">&quot; -- DETAILS:&quot;</span>);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *t : *<a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>) {</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      t-&gt;debug();</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    }</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="keywordflow">for</span> (std::shared_ptr&lt;BaseConnector&gt; c : *<a class="code" href="classhtgs_1_1_task_graph.html#a758cb146a6f665f8115c5d539e94a62b">edges</a>) {</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      <a class="code" href="debug__message_8h.html#aecc1f7a8a2493b9e021e5bff76a00a5b">DEBUG</a>(<span class="stringliteral">&quot;Connector: &quot;</span> &lt;&lt; c &lt;&lt; <span class="stringliteral">&quot; total producers: &quot;</span> &lt;&lt; c-&gt;getProducerCount());</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <a class="code" href="debug__message_8h.html#aecc1f7a8a2493b9e021e5bff76a00a5b">DEBUG</a>(<span class="stringliteral">&quot;Graph input: &quot;</span> &lt;&lt; this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a> &lt;&lt; <span class="stringliteral">&quot; total producers: &quot;</span> &lt;&lt;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        (<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a> ? this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a>-&gt;getProducerCount() : 0));</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <a class="code" href="debug__message_8h.html#aecc1f7a8a2493b9e021e5bff76a00a5b">DEBUG</a>(<span class="stringliteral">&quot;Graph output: &quot;</span> &lt;&lt; this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">output</a> &lt;&lt; <span class="stringliteral">&quot; total producers: &quot;</span> &lt;&lt;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        (<a class="code" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">output</a> ? this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">output</a>-&gt;getProducerCount() : 0));</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <a class="code" href="debug__message_8h.html#aecc1f7a8a2493b9e021e5bff76a00a5b">DEBUG</a>(<span class="stringliteral">&quot;-----------------------------------------------&quot;</span>);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  }</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div>
<div class="line"><a name="l01172"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#accc4247459df5d66271078973540de0b"> 1172</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#accc4247459df5d66271078973540de0b">debugInput</a>() {</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">while</span> (!this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a>-&gt;isInputTerminated())</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      <a class="code" href="debug__message_8h.html#aecc1f7a8a2493b9e021e5bff76a00a5b">DEBUG</a>(<span class="stringliteral">&quot;data = &quot;</span> &lt;&lt; this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a>-&gt;consumeData() &lt;&lt; std::endl);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  }</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div>
<div class="line"><a name="l01183"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#ad09b75a38dd58ae9d05bd188d468ca30"> 1183</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#ad09b75a38dd58ae9d05bd188d468ca30">updateIdAndNumPipelines</a>(<span class="keywordtype">int</span> <a class="code" href="classhtgs_1_1_task_graph.html#a6df0b9432ea30ea6892caee8dfb04d5f">pipelineId</a>, <span class="keywordtype">int</span> numPipelines) {</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classhtgs_1_1_base_task_scheduler.html">BaseTaskScheduler</a> *t : *this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>) {</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      t-&gt;setPipelineId(pipelineId);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      t-&gt;setNumPipelines(numPipelines);</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;      t-&gt;addPipelineConnector(pipelineId);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    }</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div>
<div class="line"><a name="l01195"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#aa6fcf566e71f6346281c42db8d09c530"> 1195</a></span>&#160;  std::shared_ptr&lt;Connector&lt;T&gt;&gt; <a class="code" href="classhtgs_1_1_task_graph.html#aa6fcf566e71f6346281c42db8d09c530">getInputConnector</a>() {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a>;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;</div>
<div class="line"><a name="l01203"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a73244175b9a9afecb8487ba56733254d"> 1203</a></span>&#160;  std::shared_ptr&lt;Connector&lt;U&gt;&gt; <a class="code" href="classhtgs_1_1_task_graph.html#a73244175b9a9afecb8487ba56733254d">getOutputConnector</a>() {</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">output</a>;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  }</div>
<div class="line"><a name="l01210"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a16f89353456575dbc1ce17bf6672d8e2"> 1210</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a16f89353456575dbc1ce17bf6672d8e2">setMMTypeMap</a>(std::shared_ptr&lt;std::unordered_map&lt;std::string, MMType&gt;&gt; pMap) { this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3eddc7a9f5a6ff589a8324cd332554d2">mmTypeMap</a> = pMap; }</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div>
<div class="line"><a name="l01216"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#acff1b5c7015c1925be1187f3c4e8edc3"> 1216</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#acff1b5c7015c1925be1187f3c4e8edc3">setMemReleaser</a>(std::shared_ptr&lt;std::unordered_map&lt;std::string, std::shared_ptr&lt;std::vector&lt;std::shared_ptr&lt;BaseConnector&gt;&gt;&gt; &gt;&gt; <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>) {</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a> = <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  }</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;</div>
<div class="line"><a name="l01224"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a737d7f6d47097806b1e44c0d2717480d"> 1224</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a737d7f6d47097806b1e44c0d2717480d">setPipelineId</a>(<span class="keywordtype">int</span> <a class="code" href="classhtgs_1_1_task_graph.html#a6df0b9432ea30ea6892caee8dfb04d5f">pipelineId</a>) { this-&gt;pipelineId = <a class="code" href="classhtgs_1_1_task_graph.html#a6df0b9432ea30ea6892caee8dfb04d5f">pipelineId</a>; }</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> V, <span class="keyword">class</span> W, <span class="keyword">class</span> X&gt;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a88a428a714464c9c757668d3544c4328">addEdge</a>(<a class="code" href="classhtgs_1_1_task_scheduler.html">TaskScheduler&lt;V, W&gt;</a> *producer, <a class="code" href="classhtgs_1_1_task_scheduler.html">TaskScheduler&lt;W, X&gt;</a> *consumer) {</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    std::shared_ptr&lt;Connector&lt;W&gt;&gt; connector;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;find(consumer) != this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;end()) {</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      connector = std::dynamic_pointer_cast&lt;<a class="code" href="classhtgs_1_1_connector.html">Connector&lt;W&gt;</a>&gt;(this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;find(consumer)-&gt;second);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      producer-&gt;<a class="code" href="classhtgs_1_1_task_scheduler.html#a57e648520caf83d15c02059575e68b0f">setOutputConnector</a>(connector);</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;      connector-&gt;incrementInputTaskCount();</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;insert(ConnectorPair(consumer, connector));</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    }</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      connector = std::shared_ptr&lt;Connector&lt;W&gt;&gt;(<span class="keyword">new</span> Connector&lt;W&gt;());</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      producer-&gt;<a class="code" href="classhtgs_1_1_task_scheduler.html#a57e648520caf83d15c02059575e68b0f">setOutputConnector</a>(connector);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      consumer-&gt;<a class="code" href="classhtgs_1_1_task_scheduler.html#a16eb0ae593f6de22c253e1a0c5b2dfb2">setInputConnector</a>(connector);</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      connector-&gt;incrementInputTaskCount();</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;insert(ConnectorPair(consumer, connector));</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    }</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    updateGraphHistory(producer, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    updateGraphHistory(consumer, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#abcb60fed41d4d698302b340cdb817662">producerConsumerKeys</a>-&gt;push_back(<span class="keyword">new</span> ProducerConsumerKey(producer, consumer));</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  }</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> V, <span class="keyword">class</span> W, <span class="keyword">class</span> X&gt;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <span class="keywordtype">void</span> addRuleManager(TaskScheduler&lt;V, VoidData&gt; *bkTask, Bookkeeper&lt;V&gt; *bk, RuleManager&lt;V, W&gt; *ruleMan,</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                      TaskScheduler&lt;W, X&gt; *consumerTask) {</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="comment">// Add rule to bookkeeper</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    bk-&gt;addRuleManager(ruleMan);</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    std::shared_ptr&lt;Connector&lt;W&gt;&gt; connector;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;find(consumerTask) != this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;end()) {</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      connector = std::dynamic_pointer_cast&lt;Connector&lt;W&gt;&gt; (this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;find(consumerTask)-&gt;second);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      ruleMan-&gt;setOutputConnector(connector);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    }</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      connector = std::shared_ptr&lt;Connector&lt;W&gt;&gt;(<span class="keyword">new</span> Connector&lt;W&gt;());</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      ruleMan-&gt;setOutputConnector(connector);</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      consumerTask-&gt;setInputConnector(connector);</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      <a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;insert(ConnectorPair(consumerTask, connector));</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    }</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    updateGraphHistory(bkTask, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    updateGraphHistory(consumerTask, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    std::pair&lt;BaseITask *, BaseITask *&gt; ruleEdge(bk, consumerTask-&gt;getTaskFunction());</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3f5bc3f269c6e41cd7c68a2d6da9ff4f">ruleEdgeMap</a>-&gt;find(ruleEdge) == this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3f5bc3f269c6e41cd7c68a2d6da9ff4f">ruleEdgeMap</a>-&gt;end()) {</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3f5bc3f269c6e41cd7c68a2d6da9ff4f">ruleEdgeMap</a>-&gt;insert(RuleEdgePair(ruleEdge, ruleMan));</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    }</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#afae22a6e7746b14eb7104f4052130903">bookkeeperKeys</a>-&gt;push_back(<span class="keyword">new</span> BookkeeperKey(bkTask, bk, ruleMan, consumerTask));</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  }</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a49108102e5ae88e7a18ceeac3b2083c4">addCustomEdge</a>(BaseTaskScheduler *producerTask, BaseTaskScheduler *consumerTask, ICustomEdge *customEdge, <span class="keywordtype">int</span> <a class="code" href="classhtgs_1_1_task_graph.html#a6df0b9432ea30ea6892caee8dfb04d5f">pipelineId</a>) {</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    std::shared_ptr&lt;BaseConnector&gt; connector = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <span class="keywordflow">if</span> (customEdge-&gt;useConnector()) {</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;find(consumerTask) != this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;end()) {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        connector = this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;find(consumerTask)-&gt;second;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      }</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        connector = std::shared_ptr&lt;BaseConnector&gt;(customEdge-&gt;createConnector());</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        <a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;insert(ConnectorPair(consumerTask, connector));</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      }</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    }</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    std::pair&lt;BaseTaskScheduler *, BaseTaskScheduler *&gt; prodConsPair(producerTask, consumerTask);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    CustomEdgePair testPair(prodConsPair, customEdge);</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="keyword">auto</span> i = std::find_if(<a class="code" href="classhtgs_1_1_task_graph.html#a59fcb645a6b7bf7b12c99190465a084b">customEdgeList</a>-&gt;begin(), <a class="code" href="classhtgs_1_1_task_graph.html#a59fcb645a6b7bf7b12c99190465a084b">customEdgeList</a>-&gt;end(), CustomEdgeComparator(testPair));</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="keywordflow">if</span> (i == <a class="code" href="classhtgs_1_1_task_graph.html#a59fcb645a6b7bf7b12c99190465a084b">customEdgeList</a>-&gt;end())</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a59fcb645a6b7bf7b12c99190465a084b">customEdgeList</a>-&gt;push_back(testPair);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    customEdge-&gt;applyGraphConnection(producerTask, consumerTask, connector, pipelineId, <span class="keyword">this</span>);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    updateGraphHistory(producerTask, <span class="keyword">false</span>, customEdge-&gt;useConnector());</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    updateGraphHistory(consumerTask, customEdge-&gt;useConnector(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  }</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#ae86df3ba7ed64101ec7523a0775b7947">addGraphInputConsumer</a>(BaseTaskScheduler *task) {</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <a class="code" href="debug__message_8h.html#af1127e30cb9126013b72db247c2af6d0">DEBUG_VERBOSE</a>(<span class="stringliteral">&quot;Adding task graph input consumer: &quot;</span> &lt;&lt; task &lt;&lt; <span class="stringliteral">&quot; to input connector &quot;</span> &lt;&lt; this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a>);</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    task-&gt;setInputConnector(<a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a>);</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ad49f8f0bea5e18c12e0c6fe35b58d72e">graphInputConsumers</a>-&gt;push_back(task);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    updateGraphHistory(task, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  }</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#ad9ee57959ed601eb7d5c67d4c2f6450f">addGraphOutputProducer</a>(BaseTaskScheduler *task) {</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <a class="code" href="debug__message_8h.html#af1127e30cb9126013b72db247c2af6d0">DEBUG_VERBOSE</a>(<span class="stringliteral">&quot;Adding task graph output producer: &quot;</span> &lt;&lt; task &lt;&lt; <span class="stringliteral">&quot; to output connector &quot;</span> &lt;&lt; this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">output</a>);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    task-&gt;setOutputConnector(<a class="code" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">output</a>);</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">output</a>-&gt;incrementInputTaskCount();</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#aba7a956895252da85a842f2bb6e3ba7b">graphOutputProducers</a>-&gt;push_back(task);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    updateGraphHistory(task, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  }</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a80e18746a83108c7cfbecc0b854f5ddc">addGraphMemoryManagerEdge</a>(std::string name, BaseITask *memGetter, BaseTaskScheduler *memTask,</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                                 std::shared_ptr&lt;BaseConnector&gt; connector, MMType type)</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  {</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="comment">// Check to make sure the memory edge&#39;s memgetter is already in the graph</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="keywordflow">if</span> (!hasITask(memGetter)) {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;      std::cerr &lt;&lt; <span class="stringliteral">&quot; Must add iTask &quot;</span> &lt;&lt; memGetter-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; to graph before adding it to a memory edge&quot;</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;          &lt;&lt; std::endl;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Must add iTask to graph before adding to memory edge&quot;</span>);</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    }</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    std::shared_ptr&lt;BaseConnector&gt; inputConnector;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    std::shared_ptr&lt;BaseConnector&gt; outputConnector;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <span class="comment">// If the memManager is not in this graph, then create a new one and update the memTask</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">if</span> (std::find(this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>-&gt;begin(), this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>-&gt;end(), memTask) == this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>-&gt;end()) {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      inputConnector = std::shared_ptr&lt;BaseConnector&gt;(connector-&gt;copy());</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      outputConnector = std::shared_ptr&lt;BaseConnector&gt;(connector-&gt;copy());</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      memTask-&gt;setInputConnector(inputConnector);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      memTask-&gt;setOutputConnector(outputConnector);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      outputConnector-&gt;incrementInputTaskCount();</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    }</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    {</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      <span class="comment">// memManager task is already in the graph, so its connectors should exist</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      inputConnector = memTask-&gt;getInputBaseConnector();</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      outputConnector = memTask-&gt;getOutputBaseConnector();</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    }</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <a class="code" href="debug__message_8h.html#aecc1f7a8a2493b9e021e5bff76a00a5b">DEBUG</a>(<span class="stringliteral">&quot;Adding memory getter &quot;</span> &lt;&lt; name &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; memGetter-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; memGetter &lt;&lt;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        <span class="stringliteral">&quot; at connector &quot;</span> &lt;&lt; memTask-&gt;getOutputBaseConnector());</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    memGetter-&gt;attachMemGetter(name, outputConnector, type);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <a class="code" href="debug__message_8h.html#aecc1f7a8a2493b9e021e5bff76a00a5b">DEBUG</a>(<span class="stringliteral">&quot;Adding memory releaser &quot;</span> &lt;&lt; name &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; <span class="stringliteral">&quot;TaskGraph&quot;</span>&lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a> &lt;&lt;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <span class="stringliteral">&quot; at connector &quot;</span> &lt;&lt; memTask-&gt;getInputBaseConnector());</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    std::shared_ptr&lt;std::vector&lt;std::shared_ptr&lt;BaseConnector&gt;&gt;&gt; vector;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="comment">// Get the vector of connectors for the given edge name (1 pipeline per vector element)</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classhtgs_1_1_task_graph.html#a1ef6760e463dea6e6bf38d8cfa72c94e">hasMemReleaser</a>(name))</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      vector = <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>-&gt;find(name)-&gt;second;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      vector = std::shared_ptr&lt;std::vector&lt;std::shared_ptr&lt;BaseConnector&gt;&gt;&gt;(<span class="keyword">new</span> std::vector&lt;std::shared_ptr&lt;BaseConnector&gt;&gt;());</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="comment">// Add the connector</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    vector-&gt;push_back(memTask-&gt;getInputBaseConnector());</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a3eddc7a9f5a6ff589a8324cd332554d2">mmTypeMap</a>-&gt;insert(std::pair&lt;std::string, MMType&gt;(name, type));</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>-&gt;insert(std::pair&lt;std::string, std::shared_ptr&lt;std::vector&lt;std::shared_ptr&lt;BaseConnector&gt;&gt;&gt;&gt;(name, vector));</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    inputConnector-&gt;incrementInputTaskCount();</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    updateGraphHistory(memTask, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#aeb758c08a5b589622bc447c2235ff1fd">memoryManagerKeys</a>-&gt;push_back(<span class="keyword">new</span> MemoryManagerKey(name, memGetter, <span class="keyword">nullptr</span>, memTask, type, <span class="keyword">false</span>));</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  }</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#afb58c16bd3e1240d818f63c6321e343f">addMemoryManagerEdge</a>(std::string name, BaseITask *memGetter, BaseITask *<a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>, BaseTaskScheduler *memTask,</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                            std::shared_ptr&lt;BaseConnector&gt; connector, MMType type, <span class="keywordtype">bool</span> isReleaserOutsideGraph) {</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="keywordflow">if</span> (!hasITask(memGetter)) {</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      std::cerr &lt;&lt; <span class="stringliteral">&quot; Must add iTask &quot;</span> &lt;&lt; memGetter-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; to graph before adding it as a memory edge&quot;</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;          &lt;&lt; std::endl;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Must add iTask to graph before adding as memory edge&quot;</span>);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    }</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    std::shared_ptr&lt;BaseConnector&gt; inputConnector;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    std::shared_ptr&lt;BaseConnector&gt; outputConnector;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="comment">// If the memManager is not in this graph, then create a new one and update the memTask</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <span class="keywordflow">if</span> (std::find(this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>-&gt;begin(), this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>-&gt;end(), memTask) == this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>-&gt;end()) {</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      inputConnector = std::shared_ptr&lt;BaseConnector&gt;(connector-&gt;copy());</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      outputConnector = std::shared_ptr&lt;BaseConnector&gt;(connector-&gt;copy());</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      memTask-&gt;setInputConnector(inputConnector);</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      memTask-&gt;setOutputConnector(outputConnector);</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;      outputConnector-&gt;incrementInputTaskCount();</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    }</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    {</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      <span class="comment">// memManager task is already in the graph, so its connectors should exist</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      inputConnector = memTask-&gt;getInputBaseConnector();</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;      outputConnector = memTask-&gt;getOutputBaseConnector();</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    }</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <a class="code" href="debug__message_8h.html#aecc1f7a8a2493b9e021e5bff76a00a5b">DEBUG</a>(<span class="stringliteral">&quot;Adding memory getter &quot;</span> &lt;&lt; name &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; memGetter-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; memGetter &lt;&lt;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        <span class="stringliteral">&quot; at connector &quot;</span> &lt;&lt; memTask-&gt;getOutputBaseConnector());</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <a class="code" href="debug__message_8h.html#aecc1f7a8a2493b9e021e5bff76a00a5b">DEBUG</a>(<span class="stringliteral">&quot;Adding memory releaser &quot;</span> &lt;&lt; name &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; memReleaser-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; memReleaser &lt;&lt;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        <span class="stringliteral">&quot; at connector &quot;</span> &lt;&lt; memTask-&gt;getInputBaseConnector());</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <span class="comment">// This functionality is internal to copying a graph, so inserting the memGetter/releaser with the same name is desired</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <span class="comment">// One per pipeline</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    memGetter-&gt;attachMemGetter(name, outputConnector, type);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    memReleaser-&gt;attachMemReleaser(name, inputConnector, type, isReleaserOutsideGraph);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    inputConnector-&gt;incrementInputTaskCount();</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    updateGraphHistory(memTask, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="comment">// Save this information for copy</span></div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#aeb758c08a5b589622bc447c2235ff1fd">memoryManagerKeys</a>-&gt;push_back(<span class="keyword">new</span> MemoryManagerKey(name, memGetter, memReleaser, memTask, type, isReleaserOutsideGraph));</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  }</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  <span class="keywordtype">void</span> addRuleManager(BaseTaskScheduler *bkTask,</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                      BaseITask *bk,</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                      BaseBaseRuleManager *ruleMan,</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                      BaseTaskScheduler *consumerTask,</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                      std::shared_ptr&lt;BaseConnector&gt; origConnector) {</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <span class="comment">// Add rule to bookkeeper</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    bk-&gt;addRuleManager(ruleMan);</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    std::shared_ptr&lt;BaseConnector&gt; connector;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;find(consumerTask) != this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;end()) {</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      connector = this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;find(consumerTask)-&gt;second;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      ruleMan-&gt;setOutputConnector(connector);</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    }</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      connector = std::shared_ptr&lt;BaseConnector&gt;(origConnector-&gt;copy());</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;      ruleMan-&gt;setOutputConnector(connector);</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      consumerTask-&gt;setInputConnector(connector);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    }</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    updateGraphHistory(bkTask, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    updateGraphHistory(consumerTask, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#afae22a6e7746b14eb7104f4052130903">bookkeeperKeys</a>-&gt;push_back(<span class="keyword">new</span> BookkeeperKey(bkTask, bk, ruleMan, consumerTask));</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  }</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classhtgs_1_1_task_graph.html#a88a428a714464c9c757668d3544c4328">addEdge</a>(BaseTaskScheduler *producer, BaseTaskScheduler *consumer, std::shared_ptr&lt;BaseConnector&gt; origConnector) {</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    std::shared_ptr&lt;BaseConnector&gt; connector;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;find(consumer) != this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;end()) {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      connector = this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;find(consumer)-&gt;second;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;      producer-&gt;setOutputConnector(connector);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;      connector-&gt;incrementInputTaskCount();</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;insert(ConnectorPair(consumer, connector));</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    }</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      connector = std::shared_ptr&lt;BaseConnector&gt;(origConnector-&gt;copy());</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      producer-&gt;setOutputConnector(connector);</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;      consumer-&gt;setInputConnector(connector);</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      connector-&gt;incrementInputTaskCount();</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>-&gt;insert(ConnectorPair(consumer, connector));</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    }</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    updateGraphHistory(producer, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    updateGraphHistory(consumer, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#abcb60fed41d4d698302b340cdb817662">producerConsumerKeys</a>-&gt;push_back(<span class="keyword">new</span> ProducerConsumerKey(producer, consumer));</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  }</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="comment">// Helper functions</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="keywordtype">bool</span> hasITask(BaseITask *task)</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  {</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>-&gt;find(task) != this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>-&gt;end();</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  }</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> V&gt;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  std::shared_ptr&lt;IMemoryAllocator&lt;V&gt;&gt; getMemoryAllocator(IMemoryAllocator&lt;V&gt; *allocator)</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  {</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    std::shared_ptr&lt;IMemoryAllocator&lt;V&gt;&gt; allocP;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a91a337ded8fdb952cc0123e4e34b506a">memAllocMap</a>-&gt;find(allocator) == this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a91a337ded8fdb952cc0123e4e34b506a">memAllocMap</a>-&gt;end())</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    {</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      allocP = std::shared_ptr&lt;IMemoryAllocator&lt;V&gt;&gt;(allocator);</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;      <a class="code" href="classhtgs_1_1_task_graph.html#a91a337ded8fdb952cc0123e4e34b506a">memAllocMap</a>-&gt;insert(MemAllocPair(allocator, allocP));</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    }</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    {</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;      allocP = std::dynamic_pointer_cast&lt;IMemoryAllocator&lt;V&gt;&gt;(this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a91a337ded8fdb952cc0123e4e34b506a">memAllocMap</a>-&gt;at(allocator));</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    }</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordflow">return</span> allocP;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  }</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> V&gt;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  MemoryManager&lt;V&gt; *getMemoryManager(BaseITask *memGetter, std::string name, <span class="keywordtype">int</span> memoryPoolSize, std::shared_ptr&lt;IMemoryAllocator&lt;V&gt;&gt; allocP, MMType type, <span class="keywordtype">bool</span> *ignoreMemGetterErrors)</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  {</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    MemoryManager&lt;V&gt; *memManager;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <span class="comment">// Check if memGetter has a memory edge, if it does then check if the specified name is created</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classhtgs_1_1_task_graph.html#a3af79930041175654b466fbbeb592b34">memGetterMap</a>-&gt;find(memGetter) == this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3af79930041175654b466fbbeb592b34">memGetterMap</a>-&gt;end())</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    {</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      <span class="comment">// The memGetter does not have any memory edges associated with it</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      memManager = <span class="keyword">new</span> MemoryManager&lt;V&gt;(name, memoryPoolSize, allocP, type);</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      MemManagerMap *mmMap = <span class="keyword">new</span> MemManagerMap();</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      mmMap-&gt;insert(MemManagerPair(name, memManager));</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      <a class="code" href="classhtgs_1_1_task_graph.html#a3af79930041175654b466fbbeb592b34">memGetterMap</a>-&gt;insert(MemGetterPair(memGetter, mmMap));</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;      *ignoreMemGetterErrors = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    }</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    {</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      <span class="comment">// MemGetter has some memory edges</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;      <span class="comment">// Now identify if the specified named edge already exists</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      MemManagerMap *mmMap = <a class="code" href="classhtgs_1_1_task_graph.html#a3af79930041175654b466fbbeb592b34">memGetterMap</a>-&gt;at(memGetter);</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      <span class="keywordflow">if</span> (mmMap-&gt;find(name) == mmMap-&gt;end())</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        <span class="comment">// No memory manager found with name, create a new one and add it</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        memManager = <span class="keyword">new</span> MemoryManager&lt;V&gt;(name, memoryPoolSize, allocP, type);</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        mmMap-&gt;insert(MemManagerPair(name, memManager));</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        *ignoreMemGetterErrors = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      }</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      {</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        <span class="comment">// Memory manager found with name, reuse the stored memory manager</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        memManager = (MemoryManager&lt;V&gt; *)mmMap-&gt;at(name);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        *ignoreMemGetterErrors = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;      }</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    }</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <span class="keywordflow">return</span> memManager;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  }</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="preprocessor">#ifdef USE_CUDA</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="preprocessor"></span>  <span class="keyword">template</span> &lt;<span class="keyword">class</span> V&gt;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  CudaMemoryManager&lt;V&gt; *getCudaMemoryManager(BaseITask *memGetter, std::string name, <span class="keywordtype">int</span> memoryPoolSize, std::shared_ptr&lt;IMemoryAllocator&lt;V&gt;&gt; allocP, MMType type, CUcontext *contexts, <span class="keywordtype">bool</span> *ignoreMemGetterErrors)</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  {</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    CudaMemoryManager&lt;V&gt; *memManager;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="comment">// Check if memGetter has a memory edge, if it does then check if the specified name is created</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classhtgs_1_1_task_graph.html#a3af79930041175654b466fbbeb592b34">memGetterMap</a>-&gt;find(memGetter) == this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3af79930041175654b466fbbeb592b34">memGetterMap</a>-&gt;end())</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      <span class="comment">// The memGetter does not have any memory edges associated with it</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      memManager = <span class="keyword">new</span> CudaMemoryManager&lt;V&gt;(name, contexts, memoryPoolSize, allocP, type);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;      MemManagerMap *mmMap = <span class="keyword">new</span> MemManagerMap();</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      mmMap-&gt;insert(MemManagerPair(name, memManager));</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;      <a class="code" href="classhtgs_1_1_task_graph.html#a3af79930041175654b466fbbeb592b34">memGetterMap</a>-&gt;insert(MemGetterPair(memGetter, mmMap));</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;      *ignoreMemGetterErrors = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    }</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    {</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      <span class="comment">// MemGetter has some memory edges</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      <span class="comment">// Now identify if the specified named edge already exists</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      MemManagerMap *mmMap = <a class="code" href="classhtgs_1_1_task_graph.html#a3af79930041175654b466fbbeb592b34">memGetterMap</a>-&gt;at(memGetter);</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      <span class="keywordflow">if</span> (mmMap-&gt;find(name) == mmMap-&gt;end())</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;      {</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        <span class="comment">// No memory manager found with name, create a new one and add it</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        memManager = <span class="keyword">new</span> CudaMemoryManager&lt;V&gt;(name, contexts, memoryPoolSize, allocP, type);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;        mmMap-&gt;insert(MemManagerPair(name, memManager));</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        *ignoreMemGetterErrors = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      }</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      {</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        <span class="comment">// Memory manager found with name, reuse the stored memory manager</span></div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        memManager = (CudaMemoryManager&lt;V&gt; *)mmMap-&gt;at(name);</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;        *ignoreMemGetterErrors = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;      }</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    }</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="keywordflow">return</span> memManager;</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  }</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> V, <span class="keyword">class</span> W&gt;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  TaskScheduler&lt;V, W&gt; *getTaskScheduler(ITask&lt;V, W&gt; *iTask, <span class="keywordtype">bool</span> attachConnectors)</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    TaskScheduler&lt;V, W&gt; *taskScheduler;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>-&gt;find(iTask) == this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>-&gt;end())</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    {</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;      taskScheduler = <a class="code" href="classhtgs_1_1_task_scheduler.html#ab2cd91d422577a0ec2082d32286b3a34">TaskScheduler&lt;V, W&gt;::createTask</a>(iTask);</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>-&gt;insert(ITaskPair(iTask, taskScheduler));</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;      <span class="keywordflow">if</span> (attachConnectors)</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      {</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;        std::shared_ptr&lt;Connector&lt;V&gt;&gt; inputConnector(<span class="keyword">new</span> Connector&lt;V&gt;());</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;        std::shared_ptr&lt;Connector&lt;W&gt;&gt; outputConnector(<span class="keyword">new</span> Connector&lt;W&gt;());</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        taskScheduler-&gt;setOutputConnector(outputConnector);</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;        taskScheduler-&gt;setInputConnector(inputConnector);</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;        outputConnector-&gt;incrementInputTaskCount();</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;      }</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    }</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    {</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      taskScheduler = (TaskScheduler&lt;V, W&gt; *)this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>-&gt;at(iTask);</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    }</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    <span class="keywordflow">return</span> taskScheduler;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  }</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> V, <span class="keyword">class</span> W, <span class="keyword">class</span> X&gt;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  RuleManager&lt;V, W&gt; *getRuleManager(Bookkeeper&lt;V&gt; *bk, ITask&lt;W, X&gt; *consumer)</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  {</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    RuleManager&lt;V, W&gt; *ruleMan;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    std::pair&lt;BaseITask *, BaseITask *&gt; ruleEdge(bk, consumer);</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3f5bc3f269c6e41cd7c68a2d6da9ff4f">ruleEdgeMap</a>-&gt;find(ruleEdge) != this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3f5bc3f269c6e41cd7c68a2d6da9ff4f">ruleEdgeMap</a>-&gt;end()) {</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;      ruleMan = (RuleManager&lt;V, W&gt; *) this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3f5bc3f269c6e41cd7c68a2d6da9ff4f">ruleEdgeMap</a>-&gt;find(ruleEdge)-&gt;second;</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    }</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      ruleMan = <span class="keyword">new</span> RuleManager&lt;V, W&gt;();</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3f5bc3f269c6e41cd7c68a2d6da9ff4f">ruleEdgeMap</a>-&gt;insert(RuleEdgePair(ruleEdge, ruleMan));</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    }</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <span class="keywordflow">return</span> ruleMan;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> V, <span class="keyword">class</span> W&gt;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  std::shared_ptr&lt;IRule&lt;V, W&gt;&gt; getIRule(IRule&lt;V, W&gt; *iRule)</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  {</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    std::shared_ptr&lt;IRule&lt;V, W&gt;&gt; iRuleShr;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a67771a1690ad7ca0b2ef46b1f073251d">iRuleMap</a>-&gt;find(iRule) != this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a67771a1690ad7ca0b2ef46b1f073251d">iRuleMap</a>-&gt;end()) {</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      std::shared_ptr&lt;BaseIRule&gt; baseRulePtr = this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a67771a1690ad7ca0b2ef46b1f073251d">iRuleMap</a>-&gt;find(iRule)-&gt;second;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      iRuleShr = std::dynamic_pointer_cast&lt;IRule&lt;V, W&gt;&gt;(baseRulePtr);</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    }</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;      iRuleShr = std::shared_ptr&lt;IRule&lt;V, W&gt;&gt;(iRule);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a67771a1690ad7ca0b2ef46b1f073251d">iRuleMap</a>-&gt;insert(IRulePair(iRule, iRuleShr));</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    }</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <span class="keywordflow">return</span> iRuleShr;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  };</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  <span class="keywordtype">void</span> attachMemGetter(std::string name, BaseITask *memGetter, MMType type, std::shared_ptr&lt;BaseConnector&gt; connector, <span class="keywordtype">bool</span> ignoreMemGetterErrors)</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  {</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    <a class="code" href="debug__message_8h.html#aecc1f7a8a2493b9e021e5bff76a00a5b">DEBUG</a>(<span class="stringliteral">&quot;Adding memory getter &quot;</span> &lt;&lt; name &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; memGetter-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; memGetter &lt;&lt;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        <span class="stringliteral">&quot; at connector &quot;</span> &lt;&lt; connector);</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordflow">if</span> (memGetter-&gt;hasMemGetter(name))</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    {</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;      <span class="keywordflow">if</span> (!ignoreMemGetterErrors) {</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;Error memory getter edge &quot;</span> &lt;&lt; name &lt;&lt; <span class="stringliteral">&quot; already exists for task: &quot;</span> &lt;&lt; memGetter-&gt;getName()</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;            &lt;&lt; std::endl;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;      }</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    }</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    memGetter-&gt;attachMemGetter(name, connector, type);</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  }</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  <span class="keywordtype">void</span> attachMemReleaser(std::string name, BaseITask *memReleaser, MMType type, std::shared_ptr&lt;BaseConnector&gt; connector, <span class="keywordtype">bool</span> isReleaserOutsideGraph)</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  {</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <a class="code" href="debug__message_8h.html#aecc1f7a8a2493b9e021e5bff76a00a5b">DEBUG</a>(<span class="stringliteral">&quot;Adding memory releaser &quot;</span> &lt;&lt; name &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; memReleaser-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; memReleaser &lt;&lt;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        <span class="stringliteral">&quot; at connector &quot;</span> &lt;&lt; connector);</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="keywordflow">if</span> (memReleaser-&gt;hasMemReleaser(name))</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    {</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error memory releaser edge &quot;</span> &lt;&lt; name &lt;&lt; <span class="stringliteral">&quot; already exists for task: &quot;</span> &lt;&lt; memReleaser-&gt;getName() &lt;&lt; std::endl;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    }</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    memReleaser-&gt;attachMemReleaser(name, connector, type, isReleaserOutsideGraph);</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  }</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;  <span class="keywordtype">void</span> updateGraphHistory(BaseTaskScheduler *taskScheduler, <span class="keywordtype">bool</span> addInputEdge, <span class="keywordtype">bool</span> addOutputEdge)</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  {</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordflow">if</span> (taskScheduler == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="keywordflow">if</span> (std::find(<a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>-&gt;begin(), <a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>-&gt;end(), taskScheduler) == <a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>-&gt;end()) {</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>-&gt;push_back(taskScheduler);</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    }</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>-&gt;find(taskScheduler-&gt;getTaskFunction()) == this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>-&gt;end()) {</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;      this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>-&gt;insert(ITaskPair(taskScheduler-&gt;getTaskFunction(), taskScheduler));</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    }</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    <span class="keywordflow">if</span> (addInputEdge) {</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;      <span class="keywordflow">if</span> (std::find(<a class="code" href="classhtgs_1_1_task_graph.html#a758cb146a6f665f8115c5d539e94a62b">edges</a>-&gt;begin(), <a class="code" href="classhtgs_1_1_task_graph.html#a758cb146a6f665f8115c5d539e94a62b">edges</a>-&gt;end(), taskScheduler-&gt;getInputBaseConnector()) == <a class="code" href="classhtgs_1_1_task_graph.html#a758cb146a6f665f8115c5d539e94a62b">edges</a>-&gt;end()) {</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a758cb146a6f665f8115c5d539e94a62b">edges</a>-&gt;push_back(taskScheduler-&gt;getInputBaseConnector());</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      }</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    }</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <span class="keywordflow">if</span> (addOutputEdge) {</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      <span class="keywordflow">if</span> (std::find(<a class="code" href="classhtgs_1_1_task_graph.html#a758cb146a6f665f8115c5d539e94a62b">edges</a>-&gt;begin(), <a class="code" href="classhtgs_1_1_task_graph.html#a758cb146a6f665f8115c5d539e94a62b">edges</a>-&gt;end(), taskScheduler-&gt;getOutputBaseConnector()) == <a class="code" href="classhtgs_1_1_task_graph.html#a758cb146a6f665f8115c5d539e94a62b">edges</a>-&gt;end()) {</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        this-&gt;<a class="code" href="classhtgs_1_1_task_graph.html#a758cb146a6f665f8115c5d539e94a62b">edges</a>-&gt;push_back(taskScheduler-&gt;getOutputBaseConnector());</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      }</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    }</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  }</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  std::list&lt;BaseTaskScheduler *&gt;</div>
<div class="line"><a name="l01711"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#ad49f8f0bea5e18c12e0c6fe35b58d72e"> 1711</a></span>&#160;      *<a class="code" href="classhtgs_1_1_task_graph.html#ad49f8f0bea5e18c12e0c6fe35b58d72e">graphInputConsumers</a>; </div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;  std::list&lt;BaseTaskScheduler *&gt;</div>
<div class="line"><a name="l01713"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#aba7a956895252da85a842f2bb6e3ba7b"> 1713</a></span>&#160;      *<a class="code" href="classhtgs_1_1_task_graph.html#aba7a956895252da85a842f2bb6e3ba7b">graphOutputProducers</a>; </div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;</div>
<div class="line"><a name="l01715"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a758cb146a6f665f8115c5d539e94a62b"> 1715</a></span>&#160;  std::list&lt;std::shared_ptr&lt;BaseConnector&gt;&gt; *<a class="code" href="classhtgs_1_1_task_graph.html#a758cb146a6f665f8115c5d539e94a62b">edges</a>; </div>
<div class="line"><a name="l01716"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6"> 1716</a></span>&#160;  std::list&lt;BaseTaskScheduler *&gt; *<a class="code" href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">vertices</a>; </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  std::list&lt;ProducerConsumerKey *&gt;</div>
<div class="line"><a name="l01719"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#abcb60fed41d4d698302b340cdb817662"> 1719</a></span>&#160;      *<a class="code" href="classhtgs_1_1_task_graph.html#abcb60fed41d4d698302b340cdb817662">producerConsumerKeys</a>; </div>
<div class="line"><a name="l01720"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#afae22a6e7746b14eb7104f4052130903"> 1720</a></span>&#160;  std::list&lt;BookkeeperKey *&gt; *<a class="code" href="classhtgs_1_1_task_graph.html#afae22a6e7746b14eb7104f4052130903">bookkeeperKeys</a>; </div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  std::list&lt;MemoryManagerKey *&gt;</div>
<div class="line"><a name="l01722"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#aeb758c08a5b589622bc447c2235ff1fd"> 1722</a></span>&#160;      *<a class="code" href="classhtgs_1_1_task_graph.html#aeb758c08a5b589622bc447c2235ff1fd">memoryManagerKeys</a>; </div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;</div>
<div class="line"><a name="l01724"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610"> 1724</a></span>&#160;  ConnectorMap *<a class="code" href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">consumerTaskConnectorMap</a>; </div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div>
<div class="line"><a name="l01726"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968"> 1726</a></span>&#160;  ITaskMap *<a class="code" href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">iTaskMap</a>; </div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;</div>
<div class="line"><a name="l01728"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a3f5bc3f269c6e41cd7c68a2d6da9ff4f"> 1728</a></span>&#160;  RuleEdgeMap *<a class="code" href="classhtgs_1_1_task_graph.html#a3f5bc3f269c6e41cd7c68a2d6da9ff4f">ruleEdgeMap</a>; </div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;</div>
<div class="line"><a name="l01730"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a67771a1690ad7ca0b2ef46b1f073251d"> 1730</a></span>&#160;  IRuleMap *<a class="code" href="classhtgs_1_1_task_graph.html#a67771a1690ad7ca0b2ef46b1f073251d">iRuleMap</a>; </div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;</div>
<div class="line"><a name="l01732"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a59fcb645a6b7bf7b12c99190465a084b"> 1732</a></span>&#160;  std::list&lt;CustomEdgePair&gt; *<a class="code" href="classhtgs_1_1_task_graph.html#a59fcb645a6b7bf7b12c99190465a084b">customEdgeList</a>; </div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;</div>
<div class="line"><a name="l01734"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369"> 1734</a></span>&#160;  std::shared_ptr&lt;Connector&lt;T&gt;&gt; <a class="code" href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">input</a>; </div>
<div class="line"><a name="l01735"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320"> 1735</a></span>&#160;  std::shared_ptr&lt;Connector&lt;U&gt;&gt; <a class="code" href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">output</a>; </div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;</div>
<div class="line"><a name="l01737"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a91a337ded8fdb952cc0123e4e34b506a"> 1737</a></span>&#160;  MemAllocMap *<a class="code" href="classhtgs_1_1_task_graph.html#a91a337ded8fdb952cc0123e4e34b506a">memAllocMap</a>; </div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  std::shared_ptr&lt;std::unordered_map&lt;std::string, std::shared_ptr&lt;std::vector&lt;std::shared_ptr&lt;BaseConnector&gt;&gt;&gt;&gt;&gt;</div>
<div class="line"><a name="l01741"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a"> 1741</a></span>&#160;      <a class="code" href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">memReleaser</a>; </div>
<div class="line"><a name="l01742"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a3eddc7a9f5a6ff589a8324cd332554d2"> 1742</a></span>&#160;  std::shared_ptr&lt;std::unordered_map&lt;std::string, MMType&gt;&gt; <a class="code" href="classhtgs_1_1_task_graph.html#a3eddc7a9f5a6ff589a8324cd332554d2">mmTypeMap</a>; </div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;</div>
<div class="line"><a name="l01744"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a3af79930041175654b466fbbeb592b34"> 1744</a></span>&#160;  MemGetterMap *<a class="code" href="classhtgs_1_1_task_graph.html#a3af79930041175654b466fbbeb592b34">memGetterMap</a>; </div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;</div>
<div class="line"><a name="l01746"></a><span class="lineno"><a class="line" href="classhtgs_1_1_task_graph.html#a6df0b9432ea30ea6892caee8dfb04d5f"> 1746</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classhtgs_1_1_task_graph.html#a6df0b9432ea30ea6892caee8dfb04d5f">pipelineId</a>; </div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;};</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;}</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;<span class="preprocessor">#endif //HTGS_TASKGRAPH_H</span></div>
<div class="ttc" id="structhtgs_1_1_custom_edge_comparator_html_aa052b8d5c990b51db904eadae8117153"><div class="ttname"><a href="structhtgs_1_1_custom_edge_comparator.html#aa052b8d5c990b51db904eadae8117153">htgs::CustomEdgeComparator::operator()</a></div><div class="ttdeci">bool operator()(CustomEdgePair const &amp;p)</div><div class="ttdoc">Operator to compare a custom edge pair. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:101</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a2d896acdc5a27ed9db6340cd2b5995ed"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a2d896acdc5a27ed9db6340cd2b5995ed">htgs::TaskGraph::produceData</a></div><div class="ttdeci">void produceData(std::shared_ptr&lt; T &gt; data)</div><div class="ttdoc">Produces data for the input of the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:505</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_aaa2d6c7c4d2a6db015dea2ef45bd1fd0"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#aaa2d6c7c4d2a6db015dea2ef45bd1fd0">htgs::TaskGraph::finishReleasingMemory</a></div><div class="ttdeci">void finishReleasingMemory()</div><div class="ttdoc">Indicates to the memory managers that are managing memory between the TaskGraph and ITask&#39;s created f...</div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1095</div></div>
<div class="ttc" id="classhtgs_1_1_base_task_scheduler_html_a6830a5118c0a4e646bbc419027947fb0"><div class="ttname"><a href="classhtgs_1_1_base_task_scheduler.html#a6830a5118c0a4e646bbc419027947fb0">htgs::BaseTaskScheduler::setNumPipelines</a></div><div class="ttdeci">virtual void setNumPipelines(int numPipelines)</div><div class="ttdoc">Sets the number of pipelines associated with the Task. </div><div class="ttdef"><b>Definition:</b> BaseTaskScheduler.hpp:170</div></div>
<div class="ttc" id="_void_data_8hpp_html"><div class="ttname"><a href="_void_data_8hpp.html">VoidData.hpp</a></div><div class="ttdoc">VoidData is used for data that is empty/void. </div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a9eb8248f52fb8f4ce7bc39ab4246b098"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a9eb8248f52fb8f4ce7bc39ab4246b098">htgs::TaskGraph::copy</a></div><div class="ttdeci">TaskGraph&lt; T, U &gt; * copy(int pipelineId, int numPipelines)</div><div class="ttdoc">Creates a copy of the TaskGraph with the specified pipeline Id and number of pipelines. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:635</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a7aef3d35cc073b1d0538c34eb6ab59a5"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a7aef3d35cc073b1d0538c34eb6ab59a5">htgs::TaskGraph::genDotGraph</a></div><div class="ttdeci">std::string genDotGraph()</div><div class="ttdoc">Generates the dot graph as a string. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:448</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a3f5bc3f269c6e41cd7c68a2d6da9ff4f"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a3f5bc3f269c6e41cd7c68a2d6da9ff4f">htgs::TaskGraph::ruleEdgeMap</a></div><div class="ttdeci">RuleEdgeMap * ruleEdgeMap</div><div class="ttdoc">A mapping for each bookkeeper-consumer pair to its associated RuleManager. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1728</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_ac4a63d2984a26602a39d590382baaf67"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#ac4a63d2984a26602a39d590382baaf67">htgs::TaskGraph::debug</a></div><div class="ttdeci">void debug() const </div><div class="ttdoc">Provides debug output for the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1147</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a3af79930041175654b466fbbeb592b34"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a3af79930041175654b466fbbeb592b34">htgs::TaskGraph::memGetterMap</a></div><div class="ttdeci">MemGetterMap * memGetterMap</div><div class="ttdoc">A mapping for each memGetter to the named edge and the memory manager responsible for that edge...</div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1744</div></div>
<div class="ttc" id="classhtgs_1_1_memory_manager_html_af64691d20057a62f66489cdb73a56b70"><div class="ttname"><a href="classhtgs_1_1_memory_manager.html#af64691d20057a62f66489cdb73a56b70">htgs::MemoryManager::getMemoryManagerName</a></div><div class="ttdeci">std::string getMemoryManagerName()</div><div class="ttdoc">Gets the name of the memory manager. </div><div class="ttdef"><b>Definition:</b> MemoryManager.hpp:231</div></div>
<div class="ttc" id="classhtgs_1_1_cuda_memory_manager_html"><div class="ttname"><a href="classhtgs_1_1_cuda_memory_manager.html">htgs::CudaMemoryManager</a></div><div class="ttdoc">Implements a MemoryManager that binds the thread responsible for the MemoryManager to a Cuda GPU prio...</div><div class="ttdef"><b>Definition:</b> CudaMemoryManager.hpp:34</div></div>
<div class="ttc" id="classhtgs_1_1_base_base_rule_manager_html_ac2bc3be0f0e6ffe4096f151b836f75b0"><div class="ttname"><a href="classhtgs_1_1_base_base_rule_manager.html#ac2bc3be0f0e6ffe4096f151b836f75b0">htgs::BaseBaseRuleManager::getConnector</a></div><div class="ttdeci">virtual std::shared_ptr&lt; BaseConnector &gt; getConnector()</div><div class="ttdoc">Gets the connector that the RuleManager is producing data for. </div><div class="ttdef"><b>Definition:</b> BaseBaseRuleManager.hpp:53</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a16f89353456575dbc1ce17bf6672d8e2"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a16f89353456575dbc1ce17bf6672d8e2">htgs::TaskGraph::setMMTypeMap</a></div><div class="ttdeci">void setMMTypeMap(std::shared_ptr&lt; std::unordered_map&lt; std::string, MMType &gt;&gt; pMap)</div><div class="ttdoc">Sets the memory manager type map. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1210</div></div>
<div class="ttc" id="classhtgs_1_1_i_custom_edge_html_a6640d1fb7e2191a4f4ccbb1bd2638c18"><div class="ttname"><a href="classhtgs_1_1_i_custom_edge.html#a6640d1fb7e2191a4f4ccbb1bd2638c18">htgs::ICustomEdge::createConsumerTask</a></div><div class="ttdeci">virtual BaseTaskScheduler * createConsumerTask()=0</div><div class="ttdoc">Creates the consumer task for the custom edge (should be associated with the ConsumerITask). </div></div>
<div class="ttc" id="classhtgs_1_1_base_i_task_html"><div class="ttname"><a href="classhtgs_1_1_base_i_task.html">htgs::BaseITask</a></div><div class="ttdoc">Implements the parent ITask, which removes the template arguments of an ITask. </div><div class="ttdef"><b>Definition:</b> BaseITask.hpp:32</div></div>
<div class="ttc" id="classhtgs_1_1_i_custom_edge_html_ae5cd5f817b4009b753cc8e1a37ae6035"><div class="ttname"><a href="classhtgs_1_1_i_custom_edge.html#ae5cd5f817b4009b753cc8e1a37ae6035">htgs::ICustomEdge::createProducerTask</a></div><div class="ttdeci">virtual BaseTaskScheduler * createProducerTask()=0</div><div class="ttdoc">Creates the producer task for the custom edge (should be associated with the ProducerITask). </div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_ad9ee57959ed601eb7d5c67d4c2f6450f"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#ad9ee57959ed601eb7d5c67d4c2f6450f">htgs::TaskGraph::addGraphOutputProducer</a></div><div class="ttdeci">void addGraphOutputProducer(ITask&lt; V, U &gt; *iTask)</div><div class="ttdoc">Adds a graph output producer to produce output for the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:605</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_aeb758c08a5b589622bc447c2235ff1fd"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#aeb758c08a5b589622bc447c2235ff1fd">htgs::TaskGraph::memoryManagerKeys</a></div><div class="ttdeci">std::list&lt; MemoryManagerKey * &gt; * memoryManagerKeys</div><div class="ttdoc">A list of memory manager memGetter-memReleaser pairs to aid in copying a TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1722</div></div>
<div class="ttc" id="classhtgs_1_1_base_i_task_html_a02753bdc4348f8087a677adcc5bd3330"><div class="ttname"><a href="classhtgs_1_1_base_i_task.html#a02753bdc4348f8087a677adcc5bd3330">htgs::BaseITask::getName</a></div><div class="ttdeci">virtual std::string getName()=0</div><div class="ttdoc">Pure virtual function to get the name of an ITask. </div></div>
<div class="ttc" id="structhtgs_1_1_custom_edge_comparator_html_a6be7bbe16c8cf09c0b0a61744018bb96"><div class="ttname"><a href="structhtgs_1_1_custom_edge_comparator.html#a6be7bbe16c8cf09c0b0a61744018bb96">htgs::CustomEdgeComparator::_p</a></div><div class="ttdeci">CustomEdgePair _p</div><div class="ttdoc">The custom edge pair to compare with. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:104</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a95f57abc60c2b59f5b686f0334c4c56f"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a95f57abc60c2b59f5b686f0334c4c56f">htgs::TaskGraph::addGraphUserManagedMemoryManagerEdge</a></div><div class="ttdeci">void addGraphUserManagedMemoryManagerEdge(std::string name, BaseITask *memGetter, int memoryPoolSize)</div><div class="ttdoc">Adds a MemoryManager that is managed by the user with this graph as the memory releaser. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:979</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a91a337ded8fdb952cc0123e4e34b506a"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a91a337ded8fdb952cc0123e4e34b506a">htgs::TaskGraph::memAllocMap</a></div><div class="ttdeci">MemAllocMap * memAllocMap</div><div class="ttdoc">A mapping for each IMemoryAllocator to its associated shared_ptr. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1737</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a5e7fc0040c4c1e6b4073963b6047e78c"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a5e7fc0040c4c1e6b4073963b6047e78c">htgs::TaskGraph::updateGraphInputConsumers</a></div><div class="ttdeci">void updateGraphInputConsumers(std::shared_ptr&lt; Connector&lt; T &gt;&gt; connector)</div><div class="ttdoc">Updates the TaskGraph input consumer. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:557</div></div>
<div class="ttc" id="classhtgs_1_1_rule_manager_html_adff766b4e8de8877375f6e94f51d3060"><div class="ttname"><a href="classhtgs_1_1_rule_manager.html#adff766b4e8de8877375f6e94f51d3060">htgs::RuleManager::addRule</a></div><div class="ttdeci">void addRule(std::shared_ptr&lt; IRule&lt; T, U &gt;&gt; rule)</div><div class="ttdoc">Adds a rule to the RuleManager. </div><div class="ttdef"><b>Definition:</b> RuleManager.hpp:104</div></div>
<div class="ttc" id="debug__message_8h_html_aecc1f7a8a2493b9e021e5bff76a00a5b"><div class="ttname"><a href="debug__message_8h.html#aecc1f7a8a2493b9e021e5bff76a00a5b">DEBUG</a></div><div class="ttdeci">#define DEBUG(msg)</div><div class="ttdoc">Prints a debug message to std::cerr with standard level If DEBUG_FLAG is not defined, this equates to a no op Each message includes the file and line number for where the debug is called. </div><div class="ttdef"><b>Definition:</b> debug_message.h:47</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a06dc23492237350c4ce8036818e5d984"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a06dc23492237350c4ce8036818e5d984">htgs::TaskGraph::addRule</a></div><div class="ttdeci">void addRule(Bookkeeper&lt; V &gt; *bk, ITask&lt; W, X &gt; *consumer, IRule&lt; V, W &gt; *rule)</div><div class="ttdoc">Adds an IRule to the TaskGraph connecting a Bookkeeper with a consumer ITask. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:779</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a88a428a714464c9c757668d3544c4328"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a88a428a714464c9c757668d3544c4328">htgs::TaskGraph::addEdge</a></div><div class="ttdeci">void addEdge(ITask&lt; V, W &gt; *producer, ITask&lt; W, X &gt; *consumer)</div><div class="ttdoc">Adds an edge to the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:762</div></div>
<div class="ttc" id="classhtgs_1_1_base_task_scheduler_html_a889cf25bd0edf9085293bf9a1321bc37"><div class="ttname"><a href="classhtgs_1_1_base_task_scheduler.html#a889cf25bd0edf9085293bf9a1321bc37">htgs::BaseTaskScheduler::copy</a></div><div class="ttdeci">virtual BaseTaskScheduler * copy(bool deep)</div><div class="ttdoc">Copies the Task. </div><div class="ttdef"><b>Definition:</b> BaseTaskScheduler.hpp:79</div></div>
<div class="ttc" id="classhtgs_1_1_task_scheduler_html_afe65e0df9c72bc8e717b340f20fd73eb"><div class="ttname"><a href="classhtgs_1_1_task_scheduler.html#afe65e0df9c72bc8e717b340f20fd73eb">htgs::TaskScheduler::getOutputBaseConnector</a></div><div class="ttdeci">std::shared_ptr&lt; BaseConnector &gt; getOutputBaseConnector()</div><div class="ttdoc">Gets the output BaseConnector. </div><div class="ttdef"><b>Definition:</b> TaskScheduler.hpp:230</div></div>
<div class="ttc" id="classhtgs_1_1_base_base_rule_manager_html"><div class="ttname"><a href="classhtgs_1_1_base_base_rule_manager.html">htgs::BaseBaseRuleManager</a></div><div class="ttdoc">Parent class for BaseRuleManager, which removes all template arguments for RuleManager. </div><div class="ttdef"><b>Definition:</b> BaseBaseRuleManager.hpp:31</div></div>
<div class="ttc" id="classhtgs_1_1_task_scheduler_html"><div class="ttname"><a href="classhtgs_1_1_task_scheduler.html">htgs::TaskScheduler</a></div><div class="ttdoc">Encapsulates an ITask to interact with an ITask&#39;s functionality. </div><div class="ttdef"><b>Definition:</b> ITask.hpp:61</div></div>
<div class="ttc" id="_i_custom_edge_8hpp_html"><div class="ttname"><a href="_i_custom_edge_8hpp.html">ICustomEdge.hpp</a></div><div class="ttdoc">Provides an interface to define custom edges in a TaskGraph. This is required if custom edges are to ...</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a758cb146a6f665f8115c5d539e94a62b"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a758cb146a6f665f8115c5d539e94a62b">htgs::TaskGraph::edges</a></div><div class="ttdeci">std::list&lt; std::shared_ptr&lt; BaseConnector &gt; &gt; * edges</div><div class="ttdoc">The list of edges (Connector) for the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1715</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_acff1b5c7015c1925be1187f3c4e8edc3"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#acff1b5c7015c1925be1187f3c4e8edc3">htgs::TaskGraph::setMemReleaser</a></div><div class="ttdeci">void setMemReleaser(std::shared_ptr&lt; std::unordered_map&lt; std::string, std::shared_ptr&lt; std::vector&lt; std::shared_ptr&lt; BaseConnector &gt;&gt;&gt; &gt;&gt; memReleaser)</div><div class="ttdoc">Sets the memory releaser mapping. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1216</div></div>
<div class="ttc" id="classhtgs_1_1_memory_data_html"><div class="ttname"><a href="classhtgs_1_1_memory_data.html">htgs::MemoryData</a></div><div class="ttdoc">Describes memory allocated by a MemoryManager to manage shared memory across multiple ITask...</div><div class="ttdef"><b>Definition:</b> ICudaTask.hpp:28</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a7a1339898887b4564ca4c87e2258f7a2"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a7a1339898887b4564ca4c87e2258f7a2">htgs::TaskGraph::addTaskCopy</a></div><div class="ttdeci">void addTaskCopy(BaseTaskScheduler *taskCopy)</div><div class="ttdoc">Pure virtual function to add a copy of a TaskScheduler into the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1136</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_ab9d7313ea0dee54eecc8e0d22dcf4dab"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#ab9d7313ea0dee54eecc8e0d22dcf4dab">htgs::TaskGraph::writeDotToFile</a></div><div class="ttdeci">void writeDotToFile(std::string file)</div><div class="ttdoc">Writes the dot representation of the task graph to disk. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:415</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_afb58c16bd3e1240d818f63c6321e343f"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#afb58c16bd3e1240d818f63c6321e343f">htgs::TaskGraph::addMemoryManagerEdge</a></div><div class="ttdeci">void addMemoryManagerEdge(BaseITask *memGetter, BaseITask *memReleaser, MemoryManager&lt; V &gt; *memoryManager, bool ignoreMemGetterErrors)</div><div class="ttdoc">Adds a MemoryManager edge with the specified name to the TaskGraph, which connects a memory getter an...</div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:869</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a67771a1690ad7ca0b2ef46b1f073251d"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a67771a1690ad7ca0b2ef46b1f073251d">htgs::TaskGraph::iRuleMap</a></div><div class="ttdeci">IRuleMap * iRuleMap</div><div class="ttdoc">A mapping for each IRule pointer to the shared pointer for that IRule. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1730</div></div>
<div class="ttc" id="classhtgs_1_1_void_memory_allocator_html"><div class="ttname"><a href="classhtgs_1_1_void_memory_allocator.html">htgs::VoidMemoryAllocator</a></div><div class="ttdoc">Special allocator for user-managed memory managers. </div><div class="ttdef"><b>Definition:</b> VoidMemoryAllocator.hpp:29</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a49108102e5ae88e7a18ceeac3b2083c4"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a49108102e5ae88e7a18ceeac3b2083c4">htgs::TaskGraph::addCustomEdge</a></div><div class="ttdeci">void addCustomEdge(ICustomEdge *customEdge)</div><div class="ttdoc">Adds a custom edge to the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:795</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a839fa5eee17aa8dde3e25586984c5369"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a839fa5eee17aa8dde3e25586984c5369">htgs::TaskGraph::input</a></div><div class="ttdeci">std::shared_ptr&lt; Connector&lt; T &gt; &gt; input</div><div class="ttdoc">The input connector for the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1734</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_aa6fcf566e71f6346281c42db8d09c530"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#aa6fcf566e71f6346281c42db8d09c530">htgs::TaskGraph::getInputConnector</a></div><div class="ttdeci">std::shared_ptr&lt; Connector&lt; T &gt; &gt; getInputConnector()</div><div class="ttdoc">Gets the input connector for the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1195</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a6df0b9432ea30ea6892caee8dfb04d5f"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a6df0b9432ea30ea6892caee8dfb04d5f">htgs::TaskGraph::pipelineId</a></div><div class="ttdeci">int pipelineId</div><div class="ttdoc">The pipelineId for the task graph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1746</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_aba7a956895252da85a842f2bb6e3ba7b"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#aba7a956895252da85a842f2bb6e3ba7b">htgs::TaskGraph::graphOutputProducers</a></div><div class="ttdeci">std::list&lt; BaseTaskScheduler * &gt; * graphOutputProducers</div><div class="ttdoc">The list of producers that are outputting data to the TaskGraph&#39;s output connector. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1713</div></div>
<div class="ttc" id="classhtgs_1_1_connector_html"><div class="ttname"><a href="classhtgs_1_1_connector.html">htgs::Connector</a></div><div class="ttdoc">Manages the input/output of IData between Tasks. </div><div class="ttdef"><b>Definition:</b> ITask.hpp:64</div></div>
<div class="ttc" id="structhtgs_1_1_custom_edge_comparator_html_a51a1de57514e067c2b43cc8fac037672"><div class="ttname"><a href="structhtgs_1_1_custom_edge_comparator.html#a51a1de57514e067c2b43cc8fac037672">htgs::CustomEdgeComparator::CustomEdgeComparator</a></div><div class="ttdeci">CustomEdgeComparator(CustomEdgePair pair)</div><div class="ttdoc">Compares a custom edge pair. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:96</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a3a502670e0a22b957fdcc20f1bddc67a"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a3a502670e0a22b957fdcc20f1bddc67a">htgs::TaskGraph::addMemoryManagerEdge</a></div><div class="ttdeci">void addMemoryManagerEdge(std::string name, BaseITask *memGetter, BaseITask *memReleaser, IMemoryAllocator&lt; V &gt; *allocator, int memoryPoolSize, MMType type)</div><div class="ttdoc">Adds a MemoryManager edge with the specified name to the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:952</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_ac52a73d3082454886f45c7a0d5241e32"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#ac52a73d3082454886f45c7a0d5241e32">htgs::TaskGraph::addUserManagedMemoryManagerEdge</a></div><div class="ttdeci">void addUserManagedMemoryManagerEdge(std::string name, BaseITask *memGetter, BaseITask *memReleaser, int memoryPoolSize)</div><div class="ttdoc">Adds a MemoryManager that is managed by the user. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:933</div></div>
<div class="ttc" id="classhtgs_1_1_i_rule_html"><div class="ttname"><a href="classhtgs_1_1_i_rule.html">htgs::IRule</a></div><div class="ttdoc">Provides an interface to send data along RuleManager edges for processing state and dependencies...</div><div class="ttdef"><b>Definition:</b> ExecutionPipeline.hpp:28</div></div>
<div class="ttc" id="classhtgs_1_1_i_custom_edge_html_a483553439de31b87451da07b2254634a"><div class="ttname"><a href="classhtgs_1_1_i_custom_edge.html#a483553439de31b87451da07b2254634a">htgs::ICustomEdge::applyGraphConnection</a></div><div class="ttdeci">virtual void applyGraphConnection(BaseTaskScheduler *producer, BaseTaskScheduler *consumer, std::shared_ptr&lt; BaseConnector &gt; connector, int pipelineId, htgs::BaseTaskGraph *taskGraph)=0</div><div class="ttdoc">Pure virtual function that applies the connection for the TaskGraph. </div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_ade85abad00174c1bd3cda3b7bf8c11dc"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#ade85abad00174c1bd3cda3b7bf8c11dc">htgs::TaskGraph::getEdges</a></div><div class="ttdeci">std::list&lt; std::shared_ptr&lt; BaseConnector &gt; &gt; * getEdges() const </div><div class="ttdoc">Gets the edges (Connector) associated with the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1120</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a1aa75e2d446c8ffc4430f1011f81cbfc"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a1aa75e2d446c8ffc4430f1011f81cbfc">htgs::TaskGraph::addCudaMemoryManagerEdge</a></div><div class="ttdeci">void addCudaMemoryManagerEdge(std::string name, BaseITask *memGetter, BaseITask *memReleaser, IMemoryAllocator&lt; V &gt; *allocator, int memoryPoolSize, MMType type, CUcontext *contexts)</div><div class="ttdoc">Adds a CudaMemoryManager edge with the specified name to the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:908</div></div>
<div class="ttc" id="_bookkeeper_8hpp_html"><div class="ttname"><a href="_bookkeeper_8hpp.html">Bookkeeper.hpp</a></div><div class="ttdoc">Implements the Bookkeeper class. </div></div>
<div class="ttc" id="classhtgs_1_1_i_custom_edge_html"><div class="ttname"><a href="classhtgs_1_1_i_custom_edge.html">htgs::ICustomEdge</a></div><div class="ttdoc">Interface for defining a custom edge to be added into a TaskGraph. </div><div class="ttdef"><b>Definition:</b> ICustomEdge.hpp:76</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a80e18746a83108c7cfbecc0b854f5ddc"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a80e18746a83108c7cfbecc0b854f5ddc">htgs::TaskGraph::addGraphMemoryManagerEdge</a></div><div class="ttdeci">void addGraphMemoryManagerEdge(std::string name, BaseITask *memGetter, IMemoryAllocator&lt; V &gt; *allocator, int memoryPoolSize, MMType type)</div><div class="ttdoc">Adds a MemoryManager edge with the specified name to the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:997</div></div>
<div class="ttc" id="classhtgs_1_1_base_base_rule_manager_html_a7cef9d176f9d6cf6b1683189284cc38d"><div class="ttname"><a href="classhtgs_1_1_base_base_rule_manager.html#a7cef9d176f9d6cf6b1683189284cc38d">htgs::BaseBaseRuleManager::copy</a></div><div class="ttdeci">virtual BaseBaseRuleManager * copy()</div><div class="ttdoc">Creates a copy of the RuleManager. </div><div class="ttdef"><b>Definition:</b> BaseBaseRuleManager.hpp:44</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_ae86df3ba7ed64101ec7523a0775b7947"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#ae86df3ba7ed64101ec7523a0775b7947">htgs::TaskGraph::addGraphInputConsumer</a></div><div class="ttdeci">void addGraphInputConsumer(ITask&lt; T, V &gt; *iTask)</div><div class="ttdoc">Adds a graph input consumer to process the input of the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:595</div></div>
<div class="ttc" id="classhtgs_1_1_task_scheduler_html_ab2cd91d422577a0ec2082d32286b3a34"><div class="ttname"><a href="classhtgs_1_1_task_scheduler.html#ab2cd91d422577a0ec2082d32286b3a34">htgs::TaskScheduler::createTask</a></div><div class="ttdeci">static TaskScheduler&lt; T, U &gt; * createTask(ITask&lt; T, U &gt; *taskFunction)</div><div class="ttdoc">Creates a TaskScheduler using the parameters within the taskFunction. </div><div class="ttdef"><b>Definition:</b> TaskScheduler.hpp:431</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a3151d5aa1fbd2a3228cb9dc0e5e41968"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a3151d5aa1fbd2a3228cb9dc0e5e41968">htgs::TaskGraph::iTaskMap</a></div><div class="ttdeci">ITaskMap * iTaskMap</div><div class="ttdoc">A mapping for each BaseITask to its associated BaseTaskScheduler. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1726</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_ad49f8f0bea5e18c12e0c6fe35b58d72e"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#ad49f8f0bea5e18c12e0c6fe35b58d72e">htgs::TaskGraph::graphInputConsumers</a></div><div class="ttdeci">std::list&lt; BaseTaskScheduler * &gt; * graphInputConsumers</div><div class="ttdoc">The list of consumers accessing the TaskGraph&#39;s input connector. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1711</div></div>
<div class="ttc" id="classhtgs_1_1_producer_consumer_key_html"><div class="ttname"><a href="classhtgs_1_1_producer_consumer_key.html">htgs::ProducerConsumerKey</a></div><div class="ttdoc">Provides the functionality for copying an edge in a TaskGraph. </div><div class="ttdef"><b>Definition:</b> ProducerConsumerKey.hpp:24</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a1eded3ef0c53aaec60751728e447f08a"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a1eded3ef0c53aaec60751728e447f08a">htgs::TaskGraph::memReleaser</a></div><div class="ttdeci">std::shared_ptr&lt; std::unordered_map&lt; std::string, std::shared_ptr&lt; std::vector&lt; std::shared_ptr&lt; BaseConnector &gt; &gt; &gt; &gt; &gt; memReleaser</div><div class="ttdoc">A mapping from memory edge name to memory manager connector for releasing memory from the TaskGraph t...</div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1741</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_af9e0b81f63357747bb18f0b26afdbfbe"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#af9e0b81f63357747bb18f0b26afdbfbe">htgs::TaskGraph::getOutputProducers</a></div><div class="ttdeci">std::list&lt; BaseTaskScheduler * &gt; * getOutputProducers()</div><div class="ttdoc">Gets the output producers associated with this TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:585</div></div>
<div class="ttc" id="classhtgs_1_1_i_custom_edge_html_a625e58cbcbebf0d947f3b0798e269a27"><div class="ttname"><a href="classhtgs_1_1_i_custom_edge.html#a625e58cbcbebf0d947f3b0798e269a27">htgs::ICustomEdge::getConsumerITask</a></div><div class="ttdeci">virtual BaseITask * getConsumerITask()=0</div><div class="ttdoc">Gets the ITask associated with the consumer. </div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a4617fee561077b5f3e1dc2078468dfe7"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a4617fee561077b5f3e1dc2078468dfe7">htgs::TaskGraph::genDotGraphContent</a></div><div class="ttdeci">std::string genDotGraphContent()</div><div class="ttdoc">Generate the content only of the graph (excludes all graph definitions and attributes) ...</div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:426</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a269aec3b063044df915f7d9fe30b6650"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a269aec3b063044df915f7d9fe30b6650">htgs::TaskGraph::finishedProducingData</a></div><div class="ttdeci">void finishedProducingData()</div><div class="ttdoc">Indicates that the input stream has finished producing data for the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:622</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a0ad46b99c6a98747464100e1a739a419"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a0ad46b99c6a98747464100e1a739a419">htgs::TaskGraph::isOutputTerminated</a></div><div class="ttdeci">bool isOutputTerminated()</div><div class="ttdoc">Checks if the output of the TaskGraph has finished producing data. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:548</div></div>
<div class="ttc" id="classhtgs_1_1_memory_manager_html"><div class="ttname"><a href="classhtgs_1_1_memory_manager.html">htgs::MemoryManager</a></div><div class="ttdoc">Processes MemoryData between two ITasks using a memory pool. </div><div class="ttdef"><b>Definition:</b> MemoryManager.hpp:52</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_ae494c712f4a3792059e8af761eaaf80f"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#ae494c712f4a3792059e8af761eaaf80f">htgs::TaskGraph::TaskGraph</a></div><div class="ttdeci">TaskGraph(std::shared_ptr&lt; Connector&lt; T &gt;&gt; input, std::shared_ptr&lt; Connector&lt; U &gt;&gt; output)</div><div class="ttdoc">Constructs a TaskGraph with the specified input and output Connector. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:297</div></div>
<div class="ttc" id="classhtgs_1_1_i_task_html"><div class="ttname"><a href="classhtgs_1_1_i_task.html">htgs::ITask</a></div><div class="ttdoc">An interface to process input data and forward results within a TaskGraph. </div><div class="ttdef"><b>Definition:</b> ITask.hpp:189</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a2c476cd25d048f1b548a447344630b11"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a2c476cd25d048f1b548a447344630b11">htgs::TaskGraph::memRelease</a></div><div class="ttdeci">void memRelease(std::string name, int pipelineId)</div><div class="ttdoc">Releases memory onto a memory edge. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1078</div></div>
<div class="ttc" id="classhtgs_1_1_bookkeeper_key_html"><div class="ttname"><a href="classhtgs_1_1_bookkeeper_key.html">htgs::BookkeeperKey</a></div><div class="ttdoc">Provides functionality for copying a Bookkeeper entry in a TaskGraph. </div><div class="ttdef"><b>Definition:</b> BookkeeperKey.hpp:26</div></div>
<div class="ttc" id="classhtgs_1_1_i_custom_edge_html_a0a4cac9b27ead2c8c7470a79f25235d3"><div class="ttname"><a href="classhtgs_1_1_i_custom_edge.html#a0a4cac9b27ead2c8c7470a79f25235d3">htgs::ICustomEdge::createConnector</a></div><div class="ttdeci">virtual BaseConnector * createConnector()=0</div><div class="ttdoc">Creates the connector associated with the custom edge. </div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a69dc8756d267c66526c43f72575a1775"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a69dc8756d267c66526c43f72575a1775">htgs::TaskGraph::~TaskGraph</a></div><div class="ttdeci">~TaskGraph()</div><div class="ttdoc">Destructor, handles releasing all ITask memory that is managed by the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:333</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a994884edaae94574d64ee9fd5d0fd7a4"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a994884edaae94574d64ee9fd5d0fd7a4">htgs::TaskGraph::pollData</a></div><div class="ttdeci">std::shared_ptr&lt; U &gt; pollData(long microTimeout)</div><div class="ttdoc">Polls for data from the output of the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:538</div></div>
<div class="ttc" id="classhtgs_1_1_i_memory_allocator_html"><div class="ttname"><a href="classhtgs_1_1_i_memory_allocator.html">htgs::IMemoryAllocator</a></div><div class="ttdoc">Abstract class that describes how memory is allocated and freed. </div><div class="ttdef"><b>Definition:</b> IMemoryAllocator.hpp:64</div></div>
<div class="ttc" id="classhtgs_1_1_rule_manager_html"><div class="ttname"><a href="classhtgs_1_1_rule_manager.html">htgs::RuleManager</a></div><div class="ttdoc">Connects a Bookkeeper to another ITask using one or more IRule(s). </div><div class="ttdef"><b>Definition:</b> RuleManager.hpp:61</div></div>
<div class="ttc" id="classhtgs_1_1_base_task_scheduler_html_ad8bd60bd8efe9c988247fa613b63481b"><div class="ttname"><a href="classhtgs_1_1_base_task_scheduler.html#ad8bd60bd8efe9c988247fa613b63481b">htgs::BaseTaskScheduler::addPipelineConnector</a></div><div class="ttdeci">virtual void addPipelineConnector(int pipelineId, std::shared_ptr&lt; BaseConnector &gt; connector)</div><div class="ttdoc">Adds a Connector for a Task that is in an ExecutionPipeline Each Connector added represents one of th...</div><div class="ttdef"><b>Definition:</b> BaseTaskScheduler.hpp:182</div></div>
<div class="ttc" id="classhtgs_1_1_base_task_graph_html"><div class="ttname"><a href="classhtgs_1_1_base_task_graph.html">htgs::BaseTaskGraph</a></div><div class="ttdoc">Creates a parent TaskGraph that removes the template arguments. </div><div class="ttdef"><b>Definition:</b> BaseTaskGraph.hpp:24</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_ac747b6ec5f119a35b8b2b0d9028e9610"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#ac747b6ec5f119a35b8b2b0d9028e9610">htgs::TaskGraph::consumerTaskConnectorMap</a></div><div class="ttdeci">ConnectorMap * consumerTaskConnectorMap</div><div class="ttdoc">A mapping of consumer BaseTaskScheduler to its associated Connector. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1724</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a8d42081f8916e09fdb50f881bdc04c32"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a8d42081f8916e09fdb50f881bdc04c32">htgs::TaskGraph::getVertices</a></div><div class="ttdeci">std::list&lt; BaseTaskScheduler * &gt; * getVertices() const </div><div class="ttdoc">Gets the vertices (BaseTaskScheduler) associated with the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1128</div></div>
<div class="ttc" id="classhtgs_1_1_i_custom_edge_html_a584cea03bc5d575475145799fb5ec88f"><div class="ttname"><a href="classhtgs_1_1_i_custom_edge.html#a584cea03bc5d575475145799fb5ec88f">htgs::ICustomEdge::useConnector</a></div><div class="ttdeci">virtual bool useConnector()=0</div><div class="ttdoc">Gets whether a Connector should be created for the edge. </div></div>
<div class="ttc" id="classhtgs_1_1_base_task_scheduler_html_a21f1fc4133f1868e6ce2105974fb2fbb"><div class="ttname"><a href="classhtgs_1_1_base_task_scheduler.html#a21f1fc4133f1868e6ce2105974fb2fbb">htgs::BaseTaskScheduler::getInputBaseConnector</a></div><div class="ttdeci">virtual std::shared_ptr&lt; BaseConnector &gt; getInputBaseConnector()</div><div class="ttdoc">Gets the input BaseConnector. </div><div class="ttdef"><b>Definition:</b> BaseTaskScheduler.hpp:88</div></div>
<div class="ttc" id="structhtgs_1_1_custom_edge_comparator_html"><div class="ttname"><a href="structhtgs_1_1_custom_edge_comparator.html">htgs::CustomEdgeComparator</a></div><div class="ttdoc">Structure that compares a custom edge pair. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:90</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a1ef6760e463dea6e6bf38d8cfa72c94e"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a1ef6760e463dea6e6bf38d8cfa72c94e">htgs::TaskGraph::hasMemReleaser</a></div><div class="ttdeci">bool hasMemReleaser(std::string name)</div><div class="ttdoc">Checks whether this ITask contains a memReleaser for a specified name. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1048</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a73244175b9a9afecb8487ba56733254d"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a73244175b9a9afecb8487ba56733254d">htgs::TaskGraph::getOutputConnector</a></div><div class="ttdeci">std::shared_ptr&lt; Connector&lt; U &gt; &gt; getOutputConnector()</div><div class="ttdoc">Gets the output connector for the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1203</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_aae29ebfc63282162af4e88eaf4c103c9"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#aae29ebfc63282162af4e88eaf4c103c9">htgs::TaskGraph::TaskGraph</a></div><div class="ttdeci">TaskGraph()</div><div class="ttdoc">Constructs a TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:259</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a9452714045649f83537dcbeff32ca0a6"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a9452714045649f83537dcbeff32ca0a6">htgs::TaskGraph::vertices</a></div><div class="ttdeci">std::list&lt; BaseTaskScheduler * &gt; * vertices</div><div class="ttdoc">The list of vertices (BaseTaskScheduler) for the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1716</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html"><div class="ttname"><a href="classhtgs_1_1_task_graph.html">htgs::TaskGraph</a></div><div class="ttdoc">Manages a group of connected ITasks and their connections. </div><div class="ttdef"><b>Definition:</b> ExecutionPipeline.hpp:31</div></div>
<div class="ttc" id="classhtgs_1_1_i_custom_edge_html_a2005154acf9440e5826a84eb38fd6a5a"><div class="ttname"><a href="classhtgs_1_1_i_custom_edge.html#a2005154acf9440e5826a84eb38fd6a5a">htgs::ICustomEdge::getProducerITask</a></div><div class="ttdeci">virtual BaseITask * getProducerITask()=0</div><div class="ttdoc">Gets the ITask associated with the producer. </div></div>
<div class="ttc" id="classhtgs_1_1_base_task_scheduler_html_a380740f30c9b37ebe6e84993ee60d79e"><div class="ttname"><a href="classhtgs_1_1_base_task_scheduler.html#a380740f30c9b37ebe6e84993ee60d79e">htgs::BaseTaskScheduler::setPipelineId</a></div><div class="ttdeci">virtual void setPipelineId(int id)</div><div class="ttdoc">Sets the pipeline Id associated with the Task. </div><div class="ttdef"><b>Definition:</b> BaseTaskScheduler.hpp:161</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_afae22a6e7746b14eb7104f4052130903"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#afae22a6e7746b14eb7104f4052130903">htgs::TaskGraph::bookkeeperKeys</a></div><div class="ttdeci">std::list&lt; BookkeeperKey * &gt; * bookkeeperKeys</div><div class="ttdoc">A list of bookkeeper-consumer pairs to aid in copying a TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1720</div></div>
<div class="ttc" id="classhtgs_1_1_base_task_scheduler_html"><div class="ttname"><a href="classhtgs_1_1_base_task_scheduler.html">htgs::BaseTaskScheduler</a></div><div class="ttdoc">The parent class for a Task that removes the template arguments. </div><div class="ttdef"><b>Definition:</b> BaseTaskScheduler.hpp:43</div></div>
<div class="ttc" id="debug__message_8h_html_af1127e30cb9126013b72db247c2af6d0"><div class="ttname"><a href="debug__message_8h.html#af1127e30cb9126013b72db247c2af6d0">DEBUG_VERBOSE</a></div><div class="ttdeci">#define DEBUG_VERBOSE(msg)</div><div class="ttdoc">Prints a debug message to std:cerr with VERBOSE level. </div><div class="ttdef"><b>Definition:</b> debug_message.h:57</div></div>
<div class="ttc" id="classhtgs_1_1_base_task_scheduler_html_aa3a25314072e7885e83eb7fa8fe9cd9d"><div class="ttname"><a href="classhtgs_1_1_base_task_scheduler.html#aa3a25314072e7885e83eb7fa8fe9cd9d">htgs::BaseTaskScheduler::getTaskFunction</a></div><div class="ttdeci">virtual BaseITask * getTaskFunction()</div><div class="ttdoc">Gets the ITask function associated with the Task. </div><div class="ttdef"><b>Definition:</b> BaseTaskScheduler.hpp:141</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_abcb60fed41d4d698302b340cdb817662"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#abcb60fed41d4d698302b340cdb817662">htgs::TaskGraph::producerConsumerKeys</a></div><div class="ttdeci">std::list&lt; ProducerConsumerKey * &gt; * producerConsumerKeys</div><div class="ttdoc">A list of producer-consumer pairs to aid in copying a TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1719</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a7c35ca0b3e8f5e33f276479210e28320"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a7c35ca0b3e8f5e33f276479210e28320">htgs::TaskGraph::output</a></div><div class="ttdeci">std::shared_ptr&lt; Connector&lt; U &gt; &gt; output</div><div class="ttdoc">The output connector for the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1735</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a15b4bb176539081a1a74428aaa337ed5"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a15b4bb176539081a1a74428aaa337ed5">htgs::TaskGraph::produceData</a></div><div class="ttdeci">void produceData(T *data)</div><div class="ttdoc">Produces data for the input of the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:494</div></div>
<div class="ttc" id="classhtgs_1_1_base_task_scheduler_html_a9b11a8c14ff82074f61c2ff3bef49a1c"><div class="ttname"><a href="classhtgs_1_1_base_task_scheduler.html#a9b11a8c14ff82074f61c2ff3bef49a1c">htgs::BaseTaskScheduler::getOutputBaseConnector</a></div><div class="ttdeci">virtual std::shared_ptr&lt; BaseConnector &gt; getOutputBaseConnector()</div><div class="ttdoc">Gets the output BaseConnector. </div><div class="ttdef"><b>Definition:</b> BaseTaskScheduler.hpp:97</div></div>
<div class="ttc" id="classhtgs_1_1_task_scheduler_html_a16eb0ae593f6de22c253e1a0c5b2dfb2"><div class="ttname"><a href="classhtgs_1_1_task_scheduler.html#a16eb0ae593f6de22c253e1a0c5b2dfb2">htgs::TaskScheduler::setInputConnector</a></div><div class="ttdeci">void setInputConnector(std::shared_ptr&lt; Connector&lt; T &gt;&gt; connector)</div><div class="ttdoc">Sets the input Connector. </div><div class="ttdef"><b>Definition:</b> TaskScheduler.hpp:200</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a737d7f6d47097806b1e44c0d2717480d"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a737d7f6d47097806b1e44c0d2717480d">htgs::TaskGraph::setPipelineId</a></div><div class="ttdeci">void setPipelineId(int pipelineId)</div><div class="ttdoc">Sets the pipeline Id that the TaskGraph is bound to. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1224</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_ad09b75a38dd58ae9d05bd188d468ca30"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#ad09b75a38dd58ae9d05bd188d468ca30">htgs::TaskGraph::updateIdAndNumPipelines</a></div><div class="ttdeci">void updateIdAndNumPipelines(int pipelineId, int numPipelines)</div><div class="ttdoc">Updates the pipelineIds and the number of pipelines for all tasks in the TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1183</div></div>
<div class="ttc" id="classhtgs_1_1_i_custom_edge_html_a138bc223cf96a622f192b588b9c719ce"><div class="ttname"><a href="classhtgs_1_1_i_custom_edge.html#a138bc223cf96a622f192b588b9c719ce">htgs::ICustomEdge::copy</a></div><div class="ttdeci">virtual ICustomEdge * copy()=0</div><div class="ttdoc">Pure virtual function that creates a copy of the custom edge. </div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a1dfcadb07611c7c71ef5d09ce59bc8c6"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a1dfcadb07611c7c71ef5d09ce59bc8c6">htgs::TaskGraph::incrementGraphInputProducer</a></div><div class="ttdeci">void incrementGraphInputProducer()</div><div class="ttdoc">Increments the number of producers sending data into the input for the TaskGraph. ...</div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:614</div></div>
<div class="ttc" id="classhtgs_1_1_task_scheduler_html_a57e648520caf83d15c02059575e68b0f"><div class="ttname"><a href="classhtgs_1_1_task_scheduler.html#a57e648520caf83d15c02059575e68b0f">htgs::TaskScheduler::setOutputConnector</a></div><div class="ttdeci">void setOutputConnector(std::shared_ptr&lt; Connector&lt; U &gt;&gt; connector)</div><div class="ttdoc">Sets the output Connector. </div><div class="ttdef"><b>Definition:</b> TaskScheduler.hpp:206</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a538cbbc552965902fec6faac67766fbf"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a538cbbc552965902fec6faac67766fbf">htgs::TaskGraph::produceData</a></div><div class="ttdeci">void produceData(std::list&lt; std::shared_ptr&lt; T &gt;&gt; *dataList)</div><div class="ttdoc">Adds a list of data into the TaskGraph Must specify the TaskGraph input using addGraphInputConsumer()...</div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:516</div></div>
<div class="ttc" id="classhtgs_1_1_memory_manager_key_html"><div class="ttname"><a href="classhtgs_1_1_memory_manager_key.html">htgs::MemoryManagerKey</a></div><div class="ttdoc">Provides functionality for copying a MemoryManager in a TaskGraph. </div><div class="ttdef"><b>Definition:</b> MemoryManagerKey.hpp:24</div></div>
<div class="ttc" id="classhtgs_1_1_task_scheduler_html_af3ed1b4b71262188fefc3087095357ff"><div class="ttname"><a href="classhtgs_1_1_task_scheduler.html#af3ed1b4b71262188fefc3087095357ff">htgs::TaskScheduler::getInputBaseConnector</a></div><div class="ttdeci">std::shared_ptr&lt; BaseConnector &gt; getInputBaseConnector()</div><div class="ttdoc">Gets the input BaseConnector. </div><div class="ttdef"><b>Definition:</b> TaskScheduler.hpp:224</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a7cac8b84ca8ebc6720a8beaa8c291017"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a7cac8b84ca8ebc6720a8beaa8c291017">htgs::TaskGraph::memRelease</a></div><div class="ttdeci">void memRelease(std::string name, std::shared_ptr&lt; MemoryData&lt; V &gt;&gt; memory)</div><div class="ttdoc">Releases memory onto a memory edge. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1062</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a3eddc7a9f5a6ff589a8324cd332554d2"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a3eddc7a9f5a6ff589a8324cd332554d2">htgs::TaskGraph::mmTypeMap</a></div><div class="ttdeci">std::shared_ptr&lt; std::unordered_map&lt; std::string, MMType &gt; &gt; mmTypeMap</div><div class="ttdoc">A mapping from memory edge name to memory manager type for a TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1742</div></div>
<div class="ttc" id="classhtgs_1_1_connector_html_ab1b9d21cf955c9a8fbcbec6603579c18"><div class="ttname"><a href="classhtgs_1_1_connector.html#ab1b9d21cf955c9a8fbcbec6603579c18">htgs::Connector::produceData</a></div><div class="ttdeci">void produceData(std::shared_ptr&lt; T &gt; data)</div><div class="ttdoc">Produces data into the priority queue. </div><div class="ttdef"><b>Definition:</b> Connector.hpp:120</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_accc4247459df5d66271078973540de0b"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#accc4247459df5d66271078973540de0b">htgs::TaskGraph::debugInput</a></div><div class="ttdeci">void debugInput()</div><div class="ttdoc">Processes all of the input for the TaskGraph until no more input is available. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1172</div></div>
<div class="ttc" id="classhtgs_1_1_memory_manager_html_a257a303ce6647fe9813f814cdacae8a8"><div class="ttname"><a href="classhtgs_1_1_memory_manager.html#a257a303ce6647fe9813f814cdacae8a8">htgs::MemoryManager::getType</a></div><div class="ttdeci">MMType getType() const </div><div class="ttdoc">Gets the memory manager type. </div><div class="ttdef"><b>Definition:</b> MemoryManager.hpp:237</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_a59fcb645a6b7bf7b12c99190465a084b"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#a59fcb645a6b7bf7b12c99190465a084b">htgs::TaskGraph::customEdgeList</a></div><div class="ttdeci">std::list&lt; CustomEdgePair &gt; * customEdgeList</div><div class="ttdoc">A list of each producer-consumer pair to its associated ICustomEdge. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:1732</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_aaf726a7c0ee834a7b7cb1c906b1cc9af"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#aaf726a7c0ee834a7b7cb1c906b1cc9af">htgs::TaskGraph::updateGraphOutputProducers</a></div><div class="ttdeci">void updateGraphOutputProducers(std::shared_ptr&lt; Connector&lt; U &gt;&gt; connector, bool increment)</div><div class="ttdoc">Updates the TaskGraph output producers. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:571</div></div>
<div class="ttc" id="classhtgs_1_1_bookkeeper_html"><div class="ttname"><a href="classhtgs_1_1_bookkeeper.html">htgs::Bookkeeper</a></div><div class="ttdoc">Special task used to manage rules. </div><div class="ttdef"><b>Definition:</b> Bookkeeper.hpp:55</div></div>
<div class="ttc" id="classhtgs_1_1_task_graph_html_aa222a7e8f5d3fe0a29bfb85e90203c34"><div class="ttname"><a href="classhtgs_1_1_task_graph.html#aa222a7e8f5d3fe0a29bfb85e90203c34">htgs::TaskGraph::consumeData</a></div><div class="ttdeci">std::shared_ptr&lt; U &gt; consumeData()</div><div class="ttdoc">Consumes data from the output of a TaskGraph. </div><div class="ttdef"><b>Definition:</b> TaskGraph.hpp:529</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_e66be865834cb5c8612ced50101ecfbe.html">htgs</a></li><li class="navelem"><a class="el" href="dir_cba3643586339776702906f470e9e126.html">api</a></li><li class="navelem"><a class="el" href="_task_graph_8hpp.html">TaskGraph.hpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
