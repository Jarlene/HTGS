<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>HTGS: htgs::TaskGraphProfiler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="image-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="HTGS-Logo-color-main.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HTGS
   &#160;<span id="projectnumber">v2.0</span>
   </div>
   <div id="projectbrief">The Hybrid Task Graph Scheduler</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classhtgs_1_1_task_graph_profiler.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classhtgs_1_1_task_graph_profiler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">htgs::TaskGraphProfiler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The task graph profiler that gathers profile data and communicates via graphviz.  
 <a href="classhtgs_1_1_task_graph_profiler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_task_graph_profiler_8hpp_source.html">htgs/core/graph/profile/TaskGraphProfiler.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for htgs::TaskGraphProfiler:</div>
<div class="dyncontent">
<div class="center"><img src="classhtgs_1_1_task_graph_profiler__coll__graph.png" border="0" usemap="#htgs_1_1_task_graph_profiler_coll__map" alt="Collaboration graph"/></div>
<map name="htgs_1_1_task_graph_profiler_coll__map" id="htgs_1_1_task_graph_profiler_coll__map">
<area shape="rect" id="node3" href="classhtgs_1_1_task_manager_profile.html" title="Implements a task manager profile that holds profiling data for a task manager. " alt="" coords="5,1021,176,1289"/>
<area shape="rect" id="node4" href="classhtgs_1_1_any_task_manager.html" title="The parent class for a Task that removes the template arguments. " alt="" coords="201,977,359,1333"/>
<area shape="rect" id="node5" href="classhtgs_1_1_task_graph_communicator.html" title="Implements the task graph communicator where a task&#39;s address and name are mapped to their input conn..." alt="" coords="397,632,627,915"/>
<area shape="rect" id="node6" href="classhtgs_1_1_blocking_queue.html" title="{htgs::BlockingQueue\l\&lt; std::shared_ptr\&lt; htgs\l::DataPacket \&gt; \&gt;\n|&#45; queueSize\l&#45; mutex\l&#45; condition\l|+ BlockingQueue()\l+ BlockingQueue()\l+ ~BlockingQueue()\l+ remainingCapacity()\l+ isEmpty()\l+ size()\l+ remove()\l+ Enqueue()\l+ Dequeue()\l+ poll()\l}" alt="" coords="831,301,990,569"/>
<area shape="rect" id="node8" title="STL class. " alt="" coords="223,154,303,231"/>
<area shape="rect" id="node9" title="STL class. " alt="" coords="199,5,326,97"/>
<area shape="rect" id="node11" title="STL class. " alt="" coords="562,397,646,474"/>
<area shape="rect" id="node12" title="STL class. " alt="" coords="670,389,807,481"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab0f6d742dead95967793f90437b3104c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhtgs_1_1_task_graph_profiler.html#ab0f6d742dead95967793f90437b3104c">TaskGraphProfiler</a> (int <a class="el" href="classhtgs_1_1_task_graph_profiler.html#a535ea31b0c8c8db61a1c06e8c4fa507a">flags</a>)</td></tr>
<tr class="memdesc:ab0f6d742dead95967793f90437b3104c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs the task graph profiler.  <a href="#ab0f6d742dead95967793f90437b3104c">More...</a><br /></td></tr>
<tr class="separator:ab0f6d742dead95967793f90437b3104c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a365094e927bbb05722d8ae328f6f1af2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a365094e927bbb05722d8ae328f6f1af2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhtgs_1_1_task_graph_profiler.html#a365094e927bbb05722d8ae328f6f1af2">~TaskGraphProfiler</a> ()</td></tr>
<tr class="memdesc:a365094e927bbb05722d8ae328f6f1af2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a365094e927bbb05722d8ae328f6f1af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8248c034f6dd27f9874a8ecb0f574aeb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhtgs_1_1_task_graph_profiler.html#a8248c034f6dd27f9874a8ecb0f574aeb">buildProfile</a> (<a class="el" href="classhtgs_1_1_any_task_graph_conf.html">AnyTaskGraphConf</a> *graphConf)</td></tr>
<tr class="memdesc:a8248c034f6dd27f9874a8ecb0f574aeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a profile for the graph, (called after execution is done)  <a href="#a8248c034f6dd27f9874a8ecb0f574aeb">More...</a><br /></td></tr>
<tr class="separator:a8248c034f6dd27f9874a8ecb0f574aeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a247df0763883b449619a4f400098458e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a247df0763883b449619a4f400098458e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhtgs_1_1_task_graph_profiler.html#a247df0763883b449619a4f400098458e">printProfiles</a> ()</td></tr>
<tr class="memdesc:a247df0763883b449619a4f400098458e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the profile data to console. <br /></td></tr>
<tr class="separator:a247df0763883b449619a4f400098458e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a1bbbd9dd1811fd3b26ee42bab6bd21"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhtgs_1_1_task_graph_profiler.html#a7a1bbbd9dd1811fd3b26ee42bab6bd21">genDotProfile</a> (std::string curDotGraph, int colorFlag)</td></tr>
<tr class="memdesc:a7a1bbbd9dd1811fd3b26ee42bab6bd21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates the dot profile for the graph.  <a href="#a7a1bbbd9dd1811fd3b26ee42bab6bd21">More...</a><br /></td></tr>
<tr class="separator:a7a1bbbd9dd1811fd3b26ee42bab6bd21"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ac5ed174f350b5d0a13f8b7fec3007e43"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5ed174f350b5d0a13f8b7fec3007e43"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhtgs_1_1_task_graph_profiler.html#ac5ed174f350b5d0a13f8b7fec3007e43">computeAverages</a> ()</td></tr>
<tr class="memdesc:ac5ed174f350b5d0a13f8b7fec3007e43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the averages for all profile data. <br /></td></tr>
<tr class="separator:ac5ed174f350b5d0a13f8b7fec3007e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3d514e541d177c598977d4ced9b82a2"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::string, std::string &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhtgs_1_1_task_graph_profiler.html#af3d514e541d177c598977d4ced9b82a2">genColorMap</a> (int colorFlag)</td></tr>
<tr class="memdesc:af3d514e541d177c598977d4ced9b82a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates the color map.  <a href="#af3d514e541d177c598977d4ced9b82a2">More...</a><br /></td></tr>
<tr class="separator:af3d514e541d177c598977d4ced9b82a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a5e8dbbc17fec2b5a78e1e41969316688"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5e8dbbc17fec2b5a78e1e41969316688"></a>
std::map&lt; <a class="el" href="classhtgs_1_1_any_task_manager.html">AnyTaskManager</a> *, <a class="el" href="classhtgs_1_1_task_manager_profile.html">TaskManagerProfile</a> * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhtgs_1_1_task_graph_profiler.html#a5e8dbbc17fec2b5a78e1e41969316688">taskManagerProfiles</a></td></tr>
<tr class="memdesc:a5e8dbbc17fec2b5a78e1e41969316688"><td class="mdescLeft">&#160;</td><td class="mdescRight">The profile data for all task managers. <br /></td></tr>
<tr class="separator:a5e8dbbc17fec2b5a78e1e41969316688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a535ea31b0c8c8db61a1c06e8c4fa507a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a535ea31b0c8c8db61a1c06e8c4fa507a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhtgs_1_1_task_graph_profiler.html#a535ea31b0c8c8db61a1c06e8c4fa507a">flags</a></td></tr>
<tr class="memdesc:a535ea31b0c8c8db61a1c06e8c4fa507a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The DOTGEN bit flags. <br /></td></tr>
<tr class="separator:a535ea31b0c8c8db61a1c06e8c4fa507a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The task graph profiler that gathers profile data and communicates via graphviz. </p>
<p>A <a class="el" href="classhtgs_1_1_task_graph_conf.html" title="Manages a group of connected ITasks and their connections. ">TaskGraphConf</a> uses this class to gather all profile data for visually outputting the task graph as a dot file. DOTGEN flags are used to specify options to enable/disable features for the graph.</p>
<dl class="section note"><dt>Note</dt><dd>To enable profiling you must add the directive PROFILE prior to compilation. If PROFILE is not defined, then a basic visualization is done showing just the graph structure. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab0f6d742dead95967793f90437b3104c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">htgs::TaskGraphProfiler::TaskGraphProfiler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs the task graph profiler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flags</td><td>the DOTGEN flags to enable/disable features </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a8248c034f6dd27f9874a8ecb0f574aeb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void htgs::TaskGraphProfiler::buildProfile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classhtgs_1_1_any_task_graph_conf.html">AnyTaskGraphConf</a> *&#160;</td>
          <td class="paramname"><em>graphConf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Builds a profile for the graph, (called after execution is done) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">graphConf</td><td>the graph that is profiled </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af3d514e541d177c598977d4ced9b82a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;std::string, std::string&gt;* htgs::TaskGraphProfiler::genColorMap </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>colorFlag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates the color map. </p>
<p>The map is structured as TaskDotID string -&gt; Color string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">colorFlag</td><td>selects which profile data to use when generating colors. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the color map </dd></dl>

</div>
</div>
<a class="anchor" id="a7a1bbbd9dd1811fd3b26ee42bab6bd21"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string htgs::TaskGraphProfiler::genDotProfile </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>curDotGraph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>colorFlag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates the dot profile for the graph. </p>
<p>Only the tasks that have been defined within the current dot graph will have their profiles included. The color flag is used to identify which profiling to use when coloring the nodes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">curDotGraph</td><td>the current dot graph that includes all tasks and edges used for the graph. </td></tr>
    <tr><td class="paramname">colorFlag</td><td>specifies which profile data to use when generating the color map, 0 = no color map </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the dot graph with labeling for profiling if profiling is enabled. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The directive PROFILE must be defined to enable outputting profile data. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/tjb3/phd-research/HTGS/src/htgs/core/graph/profile/<a class="el" href="_task_graph_profiler_8hpp_source.html">TaskGraphProfiler.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>htgs</b></li><li class="navelem"><a class="el" href="classhtgs_1_1_task_graph_profiler.html">TaskGraphProfiler</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
