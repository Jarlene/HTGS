<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>htgs: Runtime Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">htgs
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_runtime.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Runtime Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Spawns threads and binds them to the appropriate ITask within a <a class="el" href="class_task_graph.html" title="Manages a group of connected ITasks and their connections. ">TaskGraph</a>.  
 <a href="class_runtime.html#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Runtime:</div>
<div class="dyncontent">
<div class="center"><img src="class_runtime__coll__graph.png" border="0" usemap="#_runtime_coll__map" alt="Collaboration graph"/></div>
</div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Spawns threads and binds them to the appropriate ITask within a <a class="el" href="class_task_graph.html" title="Manages a group of connected ITasks and their connections. ">TaskGraph</a>. </p>
<p>Each thread is bound to a separate ITask instance. If an ITask has more than one thread associated with it, then the <a class="el" href="class_runtime.html" title="Spawns threads and binds them to the appropriate ITask within a TaskGraph. ">Runtime</a> will create a deep copy instance of the ITask, which is bound to the thread. This means that each thread has a different ITask instance.</p>
<p>This process is done for every ITask in the <a class="el" href="class_task_graph.html" title="Manages a group of connected ITasks and their connections. ">TaskGraph</a> that the <a class="el" href="class_runtime.html" title="Spawns threads and binds them to the appropriate ITask within a TaskGraph. ">Runtime</a> is responsible for.</p>
<p>If an ITask is an ExecutionPipeline, then the thread responsible for the ExecutionPipeline will create additional Runtimes, one for each <a class="el" href="class_task_graph.html" title="Manages a group of connected ITasks and their connections. ">TaskGraph</a> within the ExecutionPipeline.</p>
<p>A <a class="el" href="class_runtime.html" title="Spawns threads and binds them to the appropriate ITask within a TaskGraph. ">Runtime</a> can be executed asynchronously, allowing for interaction with the main <a class="el" href="class_task_graph.html" title="Manages a group of connected ITasks and their connections. ">TaskGraph</a> to submit/receive data to/from the <a class="el" href="class_task_graph.html" title="Manages a group of connected ITasks and their connections. ">TaskGraph</a> using executeRuntime().</p>
<p>To wait for the <a class="el" href="class_runtime.html" title="Spawns threads and binds them to the appropriate ITask within a TaskGraph. ">Runtime</a> to finish processing all of the data for a <a class="el" href="class_task_graph.html" title="Manages a group of connected ITasks and their connections. ">TaskGraph</a>, use waitForRuntime().</p>
<p>To execute and wait for the <a class="el" href="class_runtime.html" title="Spawns threads and binds them to the appropriate ITask within a TaskGraph. ">Runtime</a>, use executeAndWaitForRuntime(). If data is being produced for the task graph, then the TaskGraph::finishedProducingData function must be called prior to waiting for the runtime in order for the task graph to know that the input to the graph has finished and the tasks processing that input can be notified.</p>
<p>Example Usage: </p><div class="fragment"><div class="line">htgs::TaskGraph&lt;Data1, Data2&gt; *taskGraph = <span class="keyword">new</span> htgs::TaskGraph&lt;Data1, Data2&gt;();</div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">// If adding data to the TaskGraph, must use TaskGraph::addGraphInputConsumer and increment the input producers</span></div>
<div class="line">taskGraph-&gt;addGraphInputConsumer(someTask);</div>
<div class="line">taskGraph-&gt;incrementGraphInputProducer();</div>
<div class="line"></div>
<div class="line"><span class="comment">// To receive data from the TaskGraph use  TaskGraph::addGraphOutputProducer</span></div>
<div class="line">taskGraph-&gt;addGraphOutputProducer(someOutputTask);</div>
<div class="line"></div>
<div class="line">htgs::Runtime *runtime = <span class="keyword">new</span> htgs::Runtime(taskGraph);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Launch the runtime, will return after all threads have been configured for the taskGraph</span></div>
<div class="line">runTime-&gt;executeRuntime();</div>
<div class="line"></div>
<div class="line"><span class="comment">// Add data to the TaskGraph</span></div>
<div class="line"><span class="keywordflow">for</span>(<span class="keywordtype">int</span> elem = 0 ; elem &lt; numElems; elem++)</div>
<div class="line"> taskGraph-&gt;produceData(<span class="keyword">new</span> Data1(elem));</div>
<div class="line"></div>
<div class="line"><span class="comment">// Indicate finished producing data</span></div>
<div class="line">taskGraph-&gt;finishedProducingData();</div>
<div class="line"></div>
<div class="line"><span class="comment">// Process the output until there is no more output to process</span></div>
<div class="line"><span class="keywordflow">while</span>(!taskGraph-&gt;getOutputConnector()-&gt;isInputTerminated())</div>
<div class="line">{</div>
<div class="line">  std::shared_ptr&lt;Data2&gt; data = taskGraph-&gt;getOuputConnector()-&gt;consumeData();</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (data != <span class="keyword">nullptr</span>) {</div>
<div class="line">    <span class="comment">// Do post processing</span></div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Wait for the Runtime to finish</span></div>
<div class="line">runTime-&gt;waitForRuntime();</div>
</div><!-- fragment --> </div><hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/tjb3/phd-research/HTGS-dev/src/htgs/api/<a class="el" href="_task_graph_runtime_8hpp_source.html">TaskGraphRuntime.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_runtime.html">Runtime</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
